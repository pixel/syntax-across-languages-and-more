<!-- X-URL: http://grail.cnri.reston.va.us/cgi-bin/faqw.py?req=all -->
<!-- Date: Fri, 02 Apr 1999 07:40:11 GMT -->
<BASE HREF="http://grail.cnri.reston.va.us/cgi-bin/faqw.py?req=all">

<HTML>
<HEAD>
<TITLE>The Whole Python FAQ</TITLE>
</HEAD>

<BODY BACKGROUND="http://www.python.org/pics/RedShort.gif"
      BGCOLOR="#FFFFFF"
      TEXT="#000000"
      LINK="#AA0000"
      VLINK="#906A6A">
<H1>The Whole Python FAQ</H1>
Last changed on Thu Mar 25 07:16:08 1999 EST

<P>(Entries marked with ** were changed within the last 24 hours;
entries marked with * were changed within the last 7 days.)
<P>

<P>
<HR>
<H2>1. General information and availability</H2>
<UL>
<LI><A HREF="#1.1">1.1. What is Python?</A>
<LI><A HREF="#1.2">1.2. Why is it called Python?</A>
<LI><A HREF="#1.3">1.3. How do I obtain a copy of the Python source?</A>
<LI><A HREF="#1.4">1.4. How do I get documentation on Python?</A>
<LI><A HREF="#1.5">1.5. Are there other ftp sites that mirror the Python distribution?</A>
<LI><A HREF="#1.6">1.6. Is there a newsgroup or mailing list devoted to Python?</A>
<LI><A HREF="#1.7">1.7. Is there a WWW page devoted to Python?</A>
<LI><A HREF="#1.8">1.8. Is the Python documentation available on the WWW?</A>
<LI><A HREF="#1.9">1.9. Are there any books on Python?</A>
<LI><A HREF="#1.10">1.10. Are there any published articles about Python that I can reference?</A>
<LI><A HREF="#1.11">1.11. Are there short introductory papers or talks on Python?</A>
<LI><A HREF="#1.12">1.12. How does the Python version numbering scheme work?</A>
<LI><A HREF="#1.13">1.13. How do I get a beta test version of Python?</A>
<LI><A HREF="#1.14">1.14. Are there copyright restrictions on the use of Python?</A>
<LI><A HREF="#1.15">1.15. Why was Python created in the first place?</A>
<LI><A HREF="#1.16">1.16. Do I have to like &quot;Monty Python's Flying Circus&quot;?</A>
<LI><A HREF="#1.17">1.17. What is Python good for?</A>
<LI><A HREF="#1.18">1.18. Can I use the FAQ Wizard software to maintain my own FAQ?</A>
<LI><A HREF="#1.19">1.19. Which editor has good support for editing Python source code?</A>

</UL>

<P>
<HR>
<H2>2. Python in the real world</H2>
<UL>
<LI><A HREF="#2.1">2.1. How many people are using Python?</A>
<LI><A HREF="#2.2">2.2. Have any significant projects been done in Python?</A>
<LI><A HREF="#2.3">2.3. Are there any commercial projects going on using Python?</A>
<LI><A HREF="#2.4">2.4. How stable is Python?</A>
<LI><A HREF="#2.5">2.5. What new developments are expected for Python in the future?</A>
<LI><A HREF="#2.6">2.6. Is it reasonable to propose incompatible changes to Python?</A>
<LI><A HREF="#2.7">2.7. What is the future of Python?</A>
<LI><A HREF="#2.8">2.8. What is the PSA, anyway?</A>
<LI><A HREF="#2.9">2.9. How do I join the PSA?</A>
<LI><A HREF="#2.10">2.10. What are the benefits of joining the PSA?</A>
<LI><A HREF="#2.11">2.11. Is Python Y2K (Year 2000) Compliant?</A>

</UL>

<P>
<HR>
<H2>3. Building Python and Other Known Bugs</H2>
<UL>
<LI><A HREF="#3.1">3.1. Is there a test set?</A>
<LI><A HREF="#3.2">3.2. When running the test set, I get complaints about floating point operations, but when playing with floating point operations I cannot find anything wrong with them.</A>
<LI><A HREF="#3.3">3.3. Link errors after rerunning the configure script.</A>
<LI><A HREF="#3.4">3.4. The python interpreter complains about options passed to a script (after the script name).</A>
<LI><A HREF="#3.5">3.5. When building on the SGI, make tries to run python to create glmodule.c, but python hasn't been built or installed yet.</A>
<LI><A HREF="#3.6">3.6. I use VPATH but some targets are built in the source directory.</A>
<LI><A HREF="#3.7">3.7. Trouble building or linking with the GNU readline library.</A>
<LI><A HREF="#3.8">3.8. Trouble with socket I/O on older Linux 1.x versions.</A>
<LI><A HREF="#3.9">3.9. Trouble with prototypes on Ultrix.</A>
<LI><A HREF="#3.10">3.10. Other trouble building Python on platform X.</A>
<LI><A HREF="#3.11">3.11. How to configure dynamic loading on Linux.</A>
<LI><A HREF="#3.12">3.12. I can't get shared modules to work on Linux 2.0 (Slackware96)?</A>
<LI><A HREF="#3.13">3.13. Trouble when making modules shared on Linux.</A>
<LI><A HREF="#3.14">3.14. How to use threads on Linux.</A>
<LI><A HREF="#3.15">3.15. Errors when linking with a shared library containing C++ code.</A>
<LI><A HREF="#3.16">3.16. I built with tkintermodule.c enabled but get 'Tkinter not found'</A>
<LI><A HREF="#3.17">3.17. I built with Tk 4.0 but Tkinter complains about the Tk version.</A>
<LI><A HREF="#3.18">3.18. Compilation or link errors for the _tkinter module</A>
<LI><A HREF="#3.19">3.19. I configured and built Python for Tcl/Tk but &quot;import Tkinter&quot; fails.</A>
<LI><A HREF="#3.20">3.20. Tk doesn't work right on DEC Alpha.</A>
<LI><A HREF="#3.21">3.21. Several common system calls are missing from the posix module.</A>
<LI><A HREF="#3.22">3.22. ImportError: No module named string, on MS Windows.</A>
<LI><A HREF="#3.23">3.23. Core dump on SGI when using the gl module.</A>
<LI><A HREF="#3.24">3.24. &quot;Initializer not a constant&quot; while building DLL on MS-Windows</A>
<LI><A HREF="#3.25">3.25. Output directed to a pipe or file disappears on Linux.</A>
<LI><A HREF="#3.26">3.26. Syntax Errors all over the place in Linux with libc 5.4</A>
<LI><A HREF="#3.27">3.27. Crash in XIO on Linux when using Tkinter.</A>
<LI><A HREF="#3.28">3.28. How can I test if Tkinter is working?</A>
<LI><A HREF="#3.29">3.29. Is there a way to get the interactive mode of the python interpreter to perform function/variable name completion?</A>
<LI><A HREF="#3.30">3.30. Why is the Python interpreter not built as a shared library?</A>
<LI><A HREF="#3.31">3.31. Build with GCC on Solaris 2.6 (SunOS 5.6) fails</A>

</UL>

<P>
<HR>
<H2>4. Programming in Python</H2>
<UL>
<LI><A HREF="#4.1">4.1. Is there a source code level debugger with breakpoints, step, etc.?</A>
<LI><A HREF="#4.2">4.2. Can I create an object class with some methods implemented in C and others in Python (e.g. through inheritance)? (Also phrased as: Can I use a built-in type as base class?)</A>
<LI><A HREF="#4.3">4.3. Is there a curses/termcap package for Python?</A>
<LI><A HREF="#4.4">4.4. Is there an equivalent to C's onexit() in Python?</A>
<LI><A HREF="#4.5">4.5. When I define a function nested inside another function, the nested function seemingly can't access the local variables of the outer function. What is going on? How do I pass local data to a nested function?</A>
<LI><A HREF="#4.6">4.6. How do I iterate over a sequence in reverse order?</A>
<LI><A HREF="#4.7">4.7. My program is too slow. How do I speed it up?</A>
<LI><A HREF="#4.8">4.8. When I have imported a module, then edit it, and import it again (into the same Python process), the changes don't seem to take place. What is going on?</A>
<LI><A HREF="#4.9">4.9. How do I find the current module name?</A>
<LI><A HREF="#4.10">4.10. I have a module in which I want to execute some extra code when it is run as a script. How do I find out whether I am running as a script?</A>
<LI><A HREF="#4.11">4.11. I try to run a program from the Demo directory but it fails with ImportError: No module named ...; what gives?</A>
<LI><A HREF="#4.12">4.12. I have successfully built Python with STDWIN but it can't find some modules (e.g. stdwinevents).</A>
<LI><A HREF="#4.13">4.13. What GUI toolkits exist for Python?</A>
<LI><A HREF="#4.14">4.14. Are there any interfaces to database packages in Python?</A>
<LI><A HREF="#4.15">4.15. Is it possible to write obfuscated one-liners in Python?</A>
<LI><A HREF="#4.16">4.16. Is there an equivalent of C's &quot;?:&quot; ternary operator?</A>
<LI><A HREF="#4.17">4.17. My class defines __del__ but it is not called when I delete the object.</A>
<LI><A HREF="#4.18">4.18. How do I change the shell environment for programs called using os.popen() or os.system()? Changing os.environ doesn't work.</A>
<LI><A HREF="#4.19">4.19. What is a class?</A>
<LI><A HREF="#4.20">4.20. What is a method?</A>
<LI><A HREF="#4.21">4.21. What is self?</A>
<LI><A HREF="#4.22">4.22. What is an unbound method?</A>
<LI><A HREF="#4.23">4.23. How do I call a method defined in a base class from a derived class that overrides it?</A>
<LI><A HREF="#4.24">4.24. How do I call a method from a base class without using the name of the base class?</A>
<LI><A HREF="#4.25">4.25. How can I organize my code to make it easier to change the base class?</A>
<LI><A HREF="#4.26">4.26. How can I find the methods or attributes of an object?</A>
<LI><A HREF="#4.27">4.27. I can't seem to use os.read() on a pipe created with os.popen().</A>
<LI><A HREF="#4.28">4.28. How can I create a stand-alone binary from a Python script?</A>
<LI><A HREF="#4.29">4.29. What WWW tools are there for Python?</A>
<LI><A HREF="#4.30">4.30. How do I run a subprocess with pipes connected to both input and output?</A>
<LI><A HREF="#4.31">4.31. How do I call a function if I have the arguments in a tuple?</A>
<LI><A HREF="#4.32">4.32. How do I enable font-lock-mode for Python in Emacs?</A>
<LI><A HREF="#4.33">4.33. Is there a scanf() or sscanf() equivalent?</A>
<LI><A HREF="#4.34">4.34. Can I have Tk events handled while waiting for I/O?</A>
<LI><A HREF="#4.35">4.35. How do I write a function with output parameters (call by reference)?</A>
<LI><A HREF="#4.36">4.36. Please explain the rules for local and global variables in Python.</A>
<LI><A HREF="#4.37">4.37. How can I have modules that mutually import each other?</A>
<LI><A HREF="#4.38">4.38. How do I copy an object in Python?</A>
<LI><A HREF="#4.39">4.39. How to implement persistent objects in Python? (Persistent == automatically saved to and restored from disk.)</A>
<LI><A HREF="#4.40">4.40. I try to use __spam and I get an error about _SomeClassName__spam.</A>
<LI><A HREF="#4.41">4.41. How do I delete a file? And other file questions.</A>
<LI><A HREF="#4.42">4.42. How to modify urllib or httplib to support HTTP/1.1?</A>
<LI><A HREF="#4.43">4.43. Unexplicable syntax errors in compile() or exec.</A>
<LI><A HREF="#4.44">4.44. How do I convert a string to a number?</A>
<LI><A HREF="#4.45">4.45. How do I convert a number to a string?</A>
<LI><A HREF="#4.46">4.46. How do I copy a file?</A>
<LI><A HREF="#4.47">4.47. How do I check if an object is an instance of a given class or of a subclass of it?</A>
<LI><A HREF="#4.48">4.48. What is delegation?</A>
<LI><A HREF="#4.49">4.49. How do I test a Python program or component.</A>
<LI><A HREF="#4.50">4.50. My multidimensional list (array) is broken! What gives?</A>
<LI><A HREF="#4.51">4.51. I want to do a complicated sort: can you do a Schwartzian Transform in Python?</A>
<LI><A HREF="#4.52">4.52. How to convert between tuples and lists?</A>
<LI><A HREF="#4.53">4.53. Files retrieved with urllib contain leading garbage that looks like email headers.</A>
<LI><A HREF="#4.54">4.54. How do I get a list of all instances of a given class?</A>
<LI><A HREF="#4.55">4.55. A regular expression fails with regex.error: match failure.</A>
<LI><A HREF="#4.56">4.56. I can't get signal handlers to work.</A>
<LI><A HREF="#4.57">4.57. I can't use a global variable in a function? Help!</A>
<LI><A HREF="#4.58">4.58. What's a negative index? Why doesn't list.insert() use them?</A>
<LI><A HREF="#4.59">4.59. How can I sort one list by values from another list?</A>
<LI><A HREF="#4.60">4.60. Why doesn't dir() work on builtin types like files and lists?</A>
<LI><A HREF="#4.61">4.61. How can I mimic CGI form submission (METHOD=POST)?</A>
<LI><A HREF="#4.62">4.62. If my program crashes with a bsddb (or anydbm) database open, it gets corrupted. How come?</A>
<LI><A HREF="#4.63">4.63. How do I make a Python script executable on Unix?</A>
<LI><A HREF="#4.64">4.64. How do you remove duplicates from a list?</A>
<LI><A HREF="#4.65">4.65. Are there any known year 2000 problems in Python?</A>
<LI><A HREF="#4.66">4.66. I want a version of map that applies a method to a sequence of objects! Help!</A>
<LI><A HREF="#4.67">4.67. How do I generate random numbers in Python?</A>
<LI><A HREF="#4.68">4.68. How do I access the serial (RS232) port?</A>
<LI><A HREF="#4.69">4.69. Images on Tk-Buttons don't work in Py15?</A>
<LI><A HREF="#4.70">4.70. Where is the math.py (socket.py, regex.py, etc.) source file?</A>
<LI><A HREF="#4.71">4.71. How do I send mail from a Python script?</A>
<LI><A HREF="#4.72">4.72. How do I avoid blocking in connect() of a socket?</A>
<LI><A HREF="#4.73">4.73. How do I specify hexadecimal and octal integers?</A>
<LI><A HREF="#4.74">4.74. How to get a single keypress at a time?</A>
<LI><A HREF="#4.75">4.75. How can I overload constructors (or methods) in Python?</A>
<LI><A HREF="#4.76">4.76. How do I pass keyword arguments from one method to another?</A>
<LI><A HREF="#4.77">4.77. What module should I use to help with generating HTML?</A>
<LI><A HREF="#4.78">4.78. How do I create documentation from doc strings?</A>
<LI><A HREF="#4.79">4.79. How do I read (or write) binary data?</A>
<LI><A HREF="#4.80">4.80. I can't get key bindings to work in Tkinter</A>
<LI><A HREF="#4.81">4.81. &quot;import crypt&quot; fails</A>
<LI><A HREF="#4.82">4.82. Are there coding standards or a style guide for Python programs?</A>
<LI><A HREF="#4.83">4.83. How do I freeze Tkinter applications?</A>
<LI><A HREF="#4.84">4.84. How do I create static class data and static class methods?</A>
<LI><A HREF="#4.85">4.85. __import__('x.y.z') returns &lt;module 'x'&gt;; how do I get z?</A>
<LI><A HREF="#4.86">4.86. Basic thread wisdom</A>

</UL>

<P>
<HR>
<H2>5. Extending Python</H2>
<UL>
<LI><A HREF="#5.1">5.1. Can I create my own functions in C?</A>
<LI><A HREF="#5.2">5.2. Can I create my own functions in C++?</A>
<LI><A HREF="#5.3">5.3. How can I execute arbitrary Python statements from C?</A>
<LI><A HREF="#5.4">5.4. How can I evaluate an arbitrary Python expression from C?</A>
<LI><A HREF="#5.5">5.5. How do I extract C values from a Python object?</A>
<LI><A HREF="#5.6">5.6. How do I use Py_BuildValue() to create a tuple of arbitrary length?</A>
<LI><A HREF="#5.7">5.7. How do I call an object's method from C?</A>
<LI><A HREF="#5.8">5.8. How do I catch the output from PyErr_Print() (or anything that prints to stdout/stderr)?</A>
<LI><A HREF="#5.9">5.9. How do I access a module written in Python from C?</A>
<LI><A HREF="#5.10">5.10. How do I interface to C++ objects from Python?</A>
<LI><A HREF="#5.11">5.11. mSQLmodule (or other old module) won't build with Python 1.5 (or later)</A>
<LI><A HREF="#5.12">5.12. I added a module using the Setup file and the make fails! Huh?</A>
<LI><A HREF="#5.13">5.13. I want to compile a Python module on my Red Hat Linux system, but some files are missing.</A>
<LI><A HREF="#5.14">5.14. What does &quot;SystemError: _PyImport_FixupExtension: module yourmodule not loaded&quot; mean?</A>

</UL>

<P>
<HR>
<H2>6. Python's design</H2>
<UL>
<LI><A HREF="#6.1">6.1. Why isn't there a switch or case statement in Python?</A>
<LI><A HREF="#6.2">6.2. Why does Python use indentation for grouping of statements?</A>
<LI><A HREF="#6.3">6.3. Why are Python strings immutable?</A>
<LI><A HREF="#6.4">6.4. Why don't strings have methods like index() or sort(), like lists?</A>
<LI><A HREF="#6.5">6.5. Why does Python use methods for some functionality (e.g. list.index()) but functions for other (e.g. len(list))?</A>
<LI><A HREF="#6.6">6.6. Why can't I derive a class from built-in types (e.g. lists or files)?</A>
<LI><A HREF="#6.7">6.7. Why must 'self' be declared and used explicitly in method definitions and calls?</A>
<LI><A HREF="#6.8">6.8. Can't you emulate threads in the interpreter instead of relying on an OS-specific thread implementation?</A>
<LI><A HREF="#6.9">6.9. Why can't lambda forms contain statements?</A>
<LI><A HREF="#6.10">6.10. Why don't lambdas have access to variables defined in the containing scope?</A>
<LI><A HREF="#6.11">6.11. Why can't recursive functions be defined inside other functions?</A>
<LI><A HREF="#6.12">6.12. Why is there no more efficient way of iterating over a dictionary than first constructing the list of keys()?</A>
<LI><A HREF="#6.13">6.13. Can Python be compiled to machine code, C or some other language?</A>
<LI><A HREF="#6.14">6.14. How does Python manage memory? Why not full garbage collection?</A>
<LI><A HREF="#6.15">6.15. Why are there separate tuple and list data types?</A>
<LI><A HREF="#6.16">6.16. How are lists implemented?</A>
<LI><A HREF="#6.17">6.17. How are dictionaries implemented?</A>
<LI><A HREF="#6.18">6.18. Why must dictionary keys be immutable?</A>
<LI><A HREF="#6.19">6.19. How the heck do you make an array in Python?</A>
<LI><A HREF="#6.20">6.20. Why doesn't list.sort() return the sorted list?</A>
<LI><A HREF="#6.21">6.21. How do you specify and enforce an interface spec in Python?</A>
<LI><A HREF="#6.22">6.22. Why do all classes have the same type? Why do instances all have the same type?</A>
<LI><A HREF="#6.23">6.23. Why isn't all memory freed when Python exits?</A>
<LI><A HREF="#6.24">6.24. Why no class methods or mutable class variables?</A>
<LI><A HREF="#6.25">6.25. Why are default values sometimes shared between objects?</A>
<LI><A HREF="#6.26">6.26. Why no goto?</A>
<LI><A HREF="#6.27">6.27. How do you make a higher order function in Python?</A>
<LI><A HREF="#6.28">6.28. Why do I get a SyntaxError for a 'continue' inside a 'try'?</A>
<LI><A HREF="#6.29">6.29. Why can't raw strings (r-strings) end with a backslash?</A>

</UL>

<P>
<HR>
<H2>7. Using Python on non-UNIX platforms</H2>
<UL>
<LI><A HREF="#7.1">7.1. Is there a Mac version of Python?</A>
<LI><A HREF="#7.2">7.2. Are there DOS and Windows versions of Python?</A>
<LI><A HREF="#7.3">7.3. Is there an OS/2 version of Python?</A>
<LI><A HREF="#7.4">7.4. Is there a VMS version of Python?</A>
<LI><A HREF="#7.5">7.5. What about IBM mainframes, or other non-UNIX platforms?</A>
<LI><A HREF="#7.6">7.6. Where are the source or Makefiles for the non-UNIX versions?</A>
<LI><A HREF="#7.7">7.7. What is the status and support for the non-UNIX versions?</A>
<LI><A HREF="#7.8">7.8. I have a PC version but it appears to be only a binary. Where's the library?</A>
<LI><A HREF="#7.9">7.9. Where's the documentation for the Mac or PC version?</A>
<LI><A HREF="#7.10">7.10. How do I create a Python program file on the Mac or PC?</A>
<LI><A HREF="#7.11">7.11. How can I use Tkinter on Windows 95/NT?</A>
<LI><A HREF="#7.12">7.12. cgi.py (or other CGI programming) doesn't work sometimes on NT or win95!</A>
<LI><A HREF="#7.13">7.13. Why doesn't os.popen() work in PythonWin on NT?</A>
<LI><A HREF="#7.14">7.14. How do I use different functionality on different platforms with the same program?</A>
<LI><A HREF="#7.15">7.15. Is there an Amiga version of Python?</A>

</UL>

<P>
<HR>
<H2>8. Python on Windows</H2>
<UL>
<LI><A HREF="#8.1">8.1. Using Python for CGI on Microsoft Windows</A>
<LI><A HREF="#8.2">8.2. How to check for a keypress without blocking?</A>
<LI><A HREF="#8.3">8.3. $PYTHONPATH</A>
<LI><A HREF="#8.4">8.4. dedent syntax errors</A>
<LI><A HREF="#8.5">8.5. How do I emulate os.kill() in Windows?</A>
<LI><A HREF="#8.6">8.6. Why does os.path.isdir() fail on NT shared directories?</A>
<LI><A HREF="#8.7">8.7. PyRun_SimpleFile() crashes on Windows but not on Unix</A>
<LI><A HREF="#8.8">8.8. Import of _tkinter fails on Windows 95/98</A>
<LI><A HREF="#8.9">8.9. Can't extract the downloaded documentation on Windows</A>
<LI><A HREF="#8.10">8.10. Can't get Py_RunSimpleFile() to work.</A>
<LI><A HREF="#8.11">8.11. Where is Freeze for Windows?</A>

</UL>

<HR>
<H1>1. General information and availability</H1>

<HR>
<H2><A NAME="1.1">1.1. What is Python?</A></H2>
Python is an interpreted, interactive, object-oriented programming
language.  It incorporates modules, exceptions, dynamic typing, very
high level dynamic data types, and classes.  Python combines
remarkable power with very clear syntax.  It has interfaces to many
system calls and libraries, as well as to various window systems, and
is extensible in C or C++.  It is also usable as an extension language
for applications that need a programmable interface.  Finally, Python
is portable: it runs on many brands of UNIX, on the Mac, and on PCs
under MS-DOS, Windows, Windows NT, and OS/2.
<P>
To find out more, the best thing to do is to start reading the
tutorial from the documentation set (see a few questions further
down).
<P>
See also question 1.17 (what is Python good for).
<P>

<A HREF="faqw.py?req=edit&amp;file=faq01.001.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq01.001.htp">Log info</A>

/ Last changed on Mon May 26 16:05:18 1997 by
<A HREF="mailto:guido@cnri.reston.va.us">GvR</A>
<P>

<HR>
<H2><A NAME="1.2">1.2. Why is it called Python?</A></H2>
Apart from being a computer scientist, I'm also a fan of "Monty
Python's Flying Circus" (a BBC comedy series from the seventies, in
the -- unlikely -- case you didn't know).  It occurred to me one day
that I needed a name that was short, unique, and slightly mysterious.
And I happened to be reading some scripts from the series at the
time...  So then I decided to call my language Python.  But Python is
not a joke.  And don't you associate it with dangerous reptiles
either!  (If you need an icon, use an image of the 16-ton weight from
the TV series or of a can of SPAM :-)
<P>

<A HREF="faqw.py?req=edit&amp;file=faq01.002.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq01.002.htp">Log info</A>
<P>

<HR>
<H2><A NAME="1.3">1.3. How do I obtain a copy of the Python source?</A></H2>
The latest complete Python source distribution is always available
by anonymous ftp, e.g.
<A HREF="ftp://ftp.python.org/pub/python/src/python1.4.tar.gz">ftp://ftp.python.org/pub/python/src/python1.4.tar.gz</A>.  It is a
gzipped tar file containing the complete C source, LaTeX
documentation, Python library modules, example programs, and several
useful pieces of freely distributable software.  This will compile and
run out of the box on most UNIX platforms.  (See section 7 for
non-UNIX information.)
<P>
An index of said ftp directory can be found in the file INDEX.  An
HTML version of the index can be found in the file index.html,
<A HREF="ftp://ftp.python.org/pub/python/index.html">ftp://ftp.python.org/pub/python/index.html</A>.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq01.003.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq01.003.htp">Log info</A>
<P>

<HR>
<H2><A NAME="1.4">1.4. How do I get documentation on Python?</A></H2>
All documentation is available on-line, starting at <A HREF="http://www.python.org/doc">http://www.python.org/doc</A>/. 
<P>
The LaTeX source for the documentation is part of the source
distribution.  If you don't have LaTeX, the latest Python
documentation set is available, in various formats like postscript 
and html, by anonymous ftp - visit the above URL for links to the
current versions.
<P>
PostScript for a high-level description of Python is in the file nluug-paper.ps 
(a separate file on the ftp site).
<P>

<A HREF="faqw.py?req=edit&amp;file=faq01.004.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq01.004.htp">Log info</A>

/ Last changed on Wed Jan 21 12:02:55 1998 by
<A HREF="mailto:klm@python.org">Ken Manheimer</A>
<P>

<HR>
<H2><A NAME="1.5">1.5. Are there other ftp sites that mirror the Python distribution?</A></H2>
The following anonymous ftp sites keep mirrors of the Python
distribution:
<P>
USA:
<P>
<PRE>
        <A HREF="ftp://ftp.python.org/pub/python">ftp://ftp.python.org/pub/python</A>/
        <A HREF="ftp://gatekeeper.dec.com/pub/plan/python">ftp://gatekeeper.dec.com/pub/plan/python</A>/
        <A HREF="ftp://ftp.uu.net/languages/python">ftp://ftp.uu.net/languages/python</A>/
        <A HREF="ftp://ftp.wustl.edu/graphics/graphics/sgi-stuff/python">ftp://ftp.wustl.edu/graphics/graphics/sgi-stuff/python</A>/
        <A HREF="ftp://ftp.sterling.com/programming/languages/python">ftp://ftp.sterling.com/programming/languages/python</A>/
        <A HREF="ftp://uiarchive.cso.uiuc.edu/pub/lang/python">ftp://uiarchive.cso.uiuc.edu/pub/lang/python</A>/
        <A HREF="ftp://ftp.pht.com/mirrors/python/python">ftp://ftp.pht.com/mirrors/python/python</A>/
	<A HREF="ftp://ftp.cdrom.com/pub/python">ftp://ftp.cdrom.com/pub/python</A>/
</PRE>
Europe:
<P>
<PRE>
        <A HREF="ftp://ftp.cwi.nl/pub/python">ftp://ftp.cwi.nl/pub/python</A>/
        <A HREF="ftp://ftp.funet.fi/pub/languages/python">ftp://ftp.funet.fi/pub/languages/python</A>/
        <A HREF="ftp://ftp.sunet.se/pub/lang/python">ftp://ftp.sunet.se/pub/lang/python</A>/
        <A HREF="ftp://unix.hensa.ac.uk/mirrors/uunet/languages/python">ftp://unix.hensa.ac.uk/mirrors/uunet/languages/python</A>/
        <A HREF="ftp://ftp.lip6.fr/pub/python">ftp://ftp.lip6.fr/pub/python</A>/
        <A HREF="ftp://sunsite.cnlab-switch.ch/mirror/python">ftp://sunsite.cnlab-switch.ch/mirror/python</A>/
        <A HREF="ftp://ftp.informatik.tu-muenchen.de/pub/comp/programming/languages/python">ftp://ftp.informatik.tu-muenchen.de/pub/comp/programming/languages/python</A>/
</PRE>
Australia:
<P>
<PRE>
        <A HREF="ftp://ftp.dstc.edu.au/pub/python">ftp://ftp.dstc.edu.au/pub/python</A>/
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq01.005.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq01.005.htp">Log info</A>

/ Last changed on Wed Mar 24 09:20:49 1999 by
<A HREF="mailto:akuchlin@cnri.reston.va.us">A.M. Kuchling</A>
<P>

<HR>
<H2><A NAME="1.6">1.6. Is there a newsgroup or mailing list devoted to Python?</A></H2>
There is a newsgroup, comp.lang.python,
and a mailing list.  The newsgroup and mailing list are gatewayed into
each other -- if you can read news it's unnecessary to subscribe to
the mailing list.  Send e-mail to <A HREF="mailto:python-list-request@cwi.nl">python-list-request@cwi.nl</A> to
(un)subscribe to the mailing list (a person reads this, don't use majordomo
or listserv commands).
<P>
More info about the newsgroup and mailing list, and about other lists,
can be found at
<A HREF="http://www.python.org/psa/MailingLists.html">http://www.python.org/psa/MailingLists.html</A>.
<P>
Recent archives of the newsgroup are kept by Deja News and accessible
through the "locator" web page, <A HREF="http://www.python.org/locator">http://www.python.org/locator</A>/.
This page also contains pointer to older archival collections.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq01.006.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq01.006.htp">Log info</A>

/ Last changed on Fri Jan 22 15:41:36 1999 by
<A HREF="mailto:bwarsaw@python.org">Barry Warsaw</A>
<P>

<HR>
<H2><A NAME="1.7">1.7. Is there a WWW page devoted to Python?</A></H2>
Yes, <A HREF="http://www.python.org">http://www.python.org</A>/ is the official Python home page.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq01.007.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq01.007.htp">Log info</A>

/ Last changed on Fri May 23 14:42:59 1997 by
<A HREF="mailto:klm@python.org">Ken Manheimer</A>
<P>

<HR>
<H2><A NAME="1.8">1.8. Is the Python documentation available on the WWW?</A></H2>
Yes, see <A HREF="http://www.python.org">http://www.python.org</A>/ (Python's home page).  It
contains pointers to hypertext versions of the whole documentation set
(as hypertext, not just PostScript).
<P>
If you wish to browse this collection of HTML files on your own
machine, it is available bundled up by anonymous ftp,
e.g. <A HREF="ftp://ftp.python.org/pub/python/doc/html.tar.gz">ftp://ftp.python.org/pub/python/doc/html.tar.gz</A>.
<P>
An Emacs-INFO set containing the library manual is also available by
ftp, e.g. <A HREF="ftp://ftp.python.org/pub/python/doc/lib-info.tar.gz">ftp://ftp.python.org/pub/python/doc/lib-info.tar.gz</A>.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq01.008.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq01.008.htp">Log info</A>
<P>

<HR>
<H2><A NAME="1.9">1.9. Are there any books on Python?</A></H2>
Yes, several:
<P>
<PRE>
      + Internet Programming with Python 
        by Aaron Watters, Guido van Rossum, and James Ahlstrom
        MIS Press/Henry Holt publishers
        ISBN: 1-55851-484-8
        First published October, 1996
</PRE>
<PRE>
      + Programming Python 
        by Mark Lutz
        O'Reilly &amp; Associates
        ISBN: 1-56592-197-6
        First published October, 1996
</PRE>
<PRE>
      + Das Python-Buch (in German)
        by Martin von Loewis and Nils Fischbeck
        Addison-Wesley-Longman, 1997
        ISBN: 3-8273-1110-1
</PRE>
More are coming:
<P>
<PRE>
      + Python Pocket Reference
	by Mark Lutz
	O'Reilly &amp; Associates
	ISBN 1-56592-500-9
	1st Edition October 1998 (est.)
	80 pages (est.), $6.95 (est.)
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq01.009.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq01.009.htp">Log info</A>

/ Last changed on Fri Sep  4 17:21:59 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="1.10">1.10. Are there any published articles about Python that I can reference?</A></H2>
If you can't reference the web site, and you don't want to reference the books
(see previous question), there are several articles on Python that you could
reference.
<P>
Most publications about Python are collected on the Python web site:
<P>
<PRE>
    <A HREF="http://www.python.org/doc/Publications.html">http://www.python.org/doc/Publications.html</A>
</PRE>
It is no longer recommended to reference this
very old article by Python's author:
<P>
<PRE>
    Guido van Rossum and Jelke de Boer, "Interactively Testing Remote
    Servers Using the Python Programming Language", CWI Quarterly, Volume
    4, Issue 4 (December 1991), Amsterdam, pp 283-303.
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq01.010.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq01.010.htp">Log info</A>

/ Last changed on Sat Jul  4 20:52:31 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="1.11">1.11. Are there short introductory papers or talks on Python?</A></H2>
There are several - you can find links to some of them collected at
<A HREF="http://www.python.org/doc/Hints.html#intros">http://www.python.org/doc/Hints.html#intros</A>.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq01.011.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq01.011.htp">Log info</A>

/ Last changed on Fri May 23 15:04:05 1997 by
<A HREF="mailto:klm@python.org">Ken Manheimer</A>
<P>

<HR>
<H2><A NAME="1.12">1.12. How does the Python version numbering scheme work?</A></H2>
Python versions are numbered A.B.C or A.B.  A is the major version
number -- it is only incremented for major changes in functionality or
source structure.  B is the minor version number, incremented for less
earth-shattering changes to a release.  C is the patchlevel -- it is
incremented for each new patch release.  Not all releases have patch
releases.  Note that in the past, patches have added significant
changes; in fact the changeover from 0.9.9 to 1.0.0 was the first time
that either A or B changed!
<P>
Beta versions have an additional suffix of "betaN" for some small
number N.  Note that (for instance) all versions labeled 1.4betaN
<I>precede</I> the actual release of 1.4.  1.4b3 is short for 1.4beta3.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq01.012.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq01.012.htp">Log info</A>
<P>

<HR>
<H2><A NAME="1.13">1.13. How do I get a beta test version of Python?</A></H2>
If there are any beta releases, they are published in the normal
source directory (e.g. <A HREF="ftp://ftp.python.org/pub/python/src">ftp://ftp.python.org/pub/python/src</A>/).
<P>
Alpha releases are only open to PSA members.
See <A HREF="http://www.python.org/psa">http://www.python.org/psa</A>/ for information on how to join
($50/year).
<P>

<A HREF="faqw.py?req=edit&amp;file=faq01.013.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq01.013.htp">Log info</A>

/ Last changed on Wed May 21 12:48:20 1997 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="1.14">1.14. Are there copyright restrictions on the use of Python?</A></H2>
Hardly.  You can do anything you want with the source, as long as
you leave the copyrights in, and display those copyrights in any
documentation about Python that you produce.  Also, don't use the
author's institute's name in publicity without prior written
permission, and don't hold them responsible for anything (read the
actual copyright for a precise legal wording).
<P>
In particular, if you honor the copyright rules, it's OK to use Python
for commercial use, to sell copies of Python in source or binary form,
or to sell products that enhance Python or incorporate Python (or part
of it) in some form.  I would still like to know about all commercial
use of Python!
<P>

<A HREF="faqw.py?req=edit&amp;file=faq01.014.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq01.014.htp">Log info</A>
<P>

<HR>
<H2><A NAME="1.15">1.15. Why was Python created in the first place?</A></H2>
Here's a <I>very</I> brief summary of what got me started:
<P>
I had extensive experience with implementing an interpreted language
in the ABC group at CWI, and from working with this group I had
learned a lot about language design.  This is the origin of many
Python features, including the use of indentation for statement
grouping and the inclusion of very-high-level data types (although the
details are all different in Python).
<P>
I had a number of gripes about the ABC language, but also liked many
of its features.  It was impossible to extend the ABC language (or its
implementation) to remedy my complaints -- in fact its lack of
extensibility was one of its biggest problems.
I had some experience with using Modula-2+ and talked with the
designers of Modula-3 (and read the M3 report).  M3 is the origin of
the syntax and semantics used for exceptions, and some other Python
features.
<P>
I was working in the Amoeba distributed operating system group at
CWI.  We needed a better way to do system administration than by
writing either C programs or Bourne shell scripts, since Amoeba had
its own system call interface which wasn't easily accessible from the
Bourne shell.  My experience with error handling in Amoeba made me
acutely aware of the importance of exceptions as a programming
language feature.
<P>
It occurred to me that a scripting language with a syntax like ABC
but with access to the Amoeba system calls would fill the need.  I
realized that it would be foolish to write an Amoeba-specific
language, so I decided that I needed a language that was generally
extensible.
<P>
During the 1989 Christmas holidays, I had a lot of time on my hand,
so I decided to give it a try.  During the next year, while still
mostly working on it in my own time, Python was used in the Amoeba
project with increasing success, and the feedback from colleagues made
me add many early improvements.
<P>
In February 1991, after just over a year of development, I decided
to post to USENET.  The rest is in the Misc/HISTORY file.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq01.015.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq01.015.htp">Log info</A>

/ Last changed on Fri May 23 00:06:23 1997 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="1.16">1.16. Do I have to like &quot;Monty Python's Flying Circus&quot;?</A></H2>
No, but it helps.  Pythonistas like the occasional reference to SPAM,
and of course, nobody expects the Spanish Inquisition
<P>
The two main reasons to use Python are:
<P>
<PRE>
 - Portable
 - Easy to learn
</PRE>
The <I>three</I> main reasons to use Python are:
<P>
<PRE>
 - Portable
 - Easy to learn
 - Powerful standard library
</PRE>
(And nice red uniforms.)
<P>
And remember, there is <I>no</I> rule six.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq01.016.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq01.016.htp">Log info</A>

/ Last changed on Wed May 28 10:39:21 1997 by
<A HREF="mailto:guido@cnri.reston.va.us">GvR</A>
<P>

<HR>
<H2><A NAME="1.17">1.17. What is Python good for?</A></H2>
Python is used in many situations where a great deal of dynamism,
ease of use, power, and flexibility are required.  
<P>
In the area of basic text
manipulation core Python (without any non-core extensions) is easier
to use and is roughly as fast as just  about any language, and this makes Python
good for many system administration type tasks and for CGI programming
and other application areas that manipulate text and strings and such.
<P>
When augmented with
standard extensions (such as PIL, COM, Numeric, oracledb, kjbuckets, 
tkinter, win32api, etc.)
or special purpose extensions (that you write, perhaps using helper tools such
as SWIG, or using object protocols such as ILU/CORBA or COM) Python 
becomes a very convenient "glue" or "steering"
language that helps make heterogeneous collections of unrelated
software packages work together.
For example by combining Numeric with oracledb you can help your
SQL database do statistical analysis, or even Fourier transforms.
One of the features that makes Python excel in the "glue language" role
is Python's simple, usable, and powerful C language runtime API.
<P>
Many developers also use Python extensively as a graphical user
interface development aide.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq01.017.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq01.017.htp">Log info</A>

/ Last changed on Sat May 24 10:13:11 1997 by
<A HREF="mailto:aaron_watters@msn.com">Aaron Watters</A>
<P>

<HR>
<H2><A NAME="1.18">1.18. Can I use the FAQ Wizard software to maintain my own FAQ?</A></H2>
Sure.  Version 1.0 is distributed in the Tools subdirectory of the
Python 1.5 source release at
<P>
<PRE>
  <A HREF="http://www.python.org/ftp/python/src/pyth151.tgz">http://www.python.org/ftp/python/src/pyth151.tgz</A>
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq01.018.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq01.018.htp">Log info</A>

/ Last changed on Fri Jul 24 19:04:23 1998 by
<A HREF="mailto:da@skivs.ski.org">David Ascher</A>
<P>

<HR>
<H2><A NAME="1.19">1.19. Which editor has good support for editing Python source code?</A></H2>
On Unix, the first choice is Emacs/XEmacs.  There's an elaborate
mode for editing Python code, which is available from the Python
source distribution (Misc/python-mode.el).  It's also bundled
with XEmacs (we're still working on legal details to make it possible
to bundle it with FSF Emacs).  And it has its own web page:
<P>
<PRE>
    <A HREF="http://www.python.org/emacs/python-mode/index.html">http://www.python.org/emacs/python-mode/index.html</A>
</PRE>
There are many other choices, for Unix, Windows or Macintosh.
Richard Jones compiled a table from postings on the Python newsgroup:
<P>
<PRE>
    <A HREF="http://www.bofh.asn.au/~richard/editors.html">http://www.bofh.asn.au/~richard/editors.html</A>
</PRE>
See also FAQ question 7.10 for some more Mac and Win options.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq01.019.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq01.019.htp">Log info</A>

/ Last changed on Mon Jun 15 23:21:04 1998 by
<A HREF="mailto:guido@python.org">Gvr</A>
<P>

<HR>
<H1>2. Python in the real world</H1>

<HR>
<H2><A NAME="2.1">2.1. How many people are using Python?</A></H2>
I don't know, but the maximum number of simultaneous subscriptions
to the Python mailing list before it was gatewayed into the newsgroup
was about 180 (several of which were local redistribution lists).  I
believe that many active Python users don't bother to subscribe to the
list, and now that there's a newsgroup the mailing list subscription
is even less meaningful.  I see new names on the newsgroup all the
time and my best guess is that there are currently at least several
thousands of users.
<P>
Another statistic is the number of accesses to the Python WWW server.
Have a look at <A HREF="http://www.python.org/stats">http://www.python.org/stats</A>/.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq02.001.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq02.001.htp">Log info</A>
<P>

<HR>
<H2><A NAME="2.2">2.2. Have any significant projects been done in Python?</A></H2>
At CWI (the former home of Python), we have written a 20,000 line
authoring environment for transportable hypermedia presentations, a
5,000 line multimedia teleconferencing tool, as well as many many
smaller programs.
<P>
At CNRI (Python's new home), we have written two large applications:
Grail, a fully featured web browser (see
<A HREF="http://grail.cnri.reston.va.us">http://grail.cnri.reston.va.us</A>),
and the Knowbot Operating Environment,
a distributed environment for mobile code.
<P>
The University of Virginia uses Python to control a virtual reality
engine.  See <A HREF="http://alice.cs.cmu.edu">http://alice.cs.cmu.edu</A>.
<P>
The ILU project at Xerox PARC can generate Python glue for ILU
interfaces.  See <A HREF="ftp://ftp.parc.xerox.com/pub/ilu/ilu.html">ftp://ftp.parc.xerox.com/pub/ilu/ilu.html</A>.  ILU
is a free CORBA compliant ORB which supplies distributed object
connectivity to a host of platforms using a host of languages.
<P>
Mark Hammond and Greg Stein and others are interfacing Python to
Microsoft's COM and ActiveX architectures.  This means, among other
things, that Python may be used in active server pages or as a COM
controller (for example to automatically extract from or insert information
into Excel or MSAccess or any other COM aware application).
Mark claims Python can even be a ActiveX scripting host (which
means you could embed JScript inside a Python application, if you
had a strange sense of humor).  Python/AX/COM is distributed as part
of the PythonWin distribution.
<P>
The University of California, Irvine uses a student administration
system called TELE-Vision written entirely in Python.  Contact: Ray
Price <A HREF="mailto:rlprice@uci.edu">rlprice@uci.edu</A>.
<P>
The Melbourne Cricket Ground (MCG) in Australia (a 100,000+ person venue)
has it's scoreboard system written largely in Python on MS Windows.
Python expressions are used to create almost every scoring entry that
appears on the board.  The move to Python/C++ away from exclusive C++
has provided a level of functionality that would simply not have been
viable otherwise.
<P>
See also the next question.
<P>
If you have done a significant project in Python that you'd like to be
included in the list above, send me email!
<P>

<A HREF="faqw.py?req=edit&amp;file=faq02.002.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq02.002.htp">Log info</A>

/ Last changed on Mon Nov 17 13:09:11 1997 by
<A HREF="mailto:klm@python.org">Ken Manheimer</A>
<P>

<HR>
<H2><A NAME="2.3">2.3. Are there any commercial projects going on using Python?</A></H2>
Yes, there's lots of commercial activity using Python.  See
<A HREF="http://www.python.org/psa/Users.html">http://www.python.org/psa/Users.html</A> for a list.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq02.003.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq02.003.htp">Log info</A>

/ Last changed on Wed Oct 14 18:17:33 1998 by
<A HREF="mailto:klm@python.org">ken</A>
<P>

<HR>
<H2><A NAME="2.4">2.4. How stable is Python?</A></H2>
Very stable.  While the current version number would suggest it is
in the early stages of development, in fact new, stable releases
(numbered 0.9.x through 1.4) have been coming out roughly every 3 to
6 or 12 months for the past four years.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq02.004.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq02.004.htp">Log info</A>
<P>

<HR>
<H2><A NAME="2.5">2.5. What new developments are expected for Python in the future?</A></H2>
Follow the newsgroup discussions!  The workshop proceedings
(<A HREF="http://www.python.org/workshops">http://www.python.org/workshops</A>/) may also contain interesting
looks into the future.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq02.005.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq02.005.htp">Log info</A>
<P>

<HR>
<H2><A NAME="2.6">2.6. Is it reasonable to propose incompatible changes to Python?</A></H2>
In general, no.  There are already millions of lines of Python code
around the world, so any changes in the language that invalidates more
than a very small fraction of existing programs has to be frowned
upon.  Even if you can provide a conversion program, there still is
the problem of updating all documentation.  Providing a gradual
upgrade path is the only way if a feature has to be changed.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq02.006.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq02.006.htp">Log info</A>
<P>

<HR>
<H2><A NAME="2.7">2.7. What is the future of Python?</A></H2>
If I knew, I'd be rich :-)
<P>
Seriously, the formation of the PSA (Python Software Activity, see
<A HREF="http://www.python.org/psa">http://www.python.org/psa</A>/) ensures some kind of support even in
the (unlikely!) event that I'd be hit by a bus (actually, here in the
U.S., a car accident would be more likely :-), were to join a nunnery,
or would be head-hunted.  A large number of Python users have become
experts at Python programming as well as maintenance of the
implementation, and would easily fill the vacuum created by my
disappearance.
<P>
In the meantime, I have no plans to disappear -- rather, I am
committed to improving Python, and my current benefactor, CNRI (see
<A HREF="http://www.cnri.reston.va.us">http://www.cnri.reston.va.us</A>) is just as committed to continue
its support of Python and the PSA.  In fact, we have great plans for
Python -- we just can't tell yet!
<P>

<A HREF="faqw.py?req=edit&amp;file=faq02.007.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq02.007.htp">Log info</A>

/ Last changed on Sat May 24 01:59:58 1997 by
<A HREF="mailto:manus@evolving.com">Manus Hand</A>
<P>

<HR>
<H2><A NAME="2.8">2.8. What is the PSA, anyway?</A></H2>
The Python Software Activity <A HREF="http://www.python.org/psa">http://www.python.org/psa</A>/ was
created by a number of Python aficionados who want Python to be more
than the product and responsibility of a single individual.  It has
found a home at CNRI <A HREF="http://www.cnri.reston.va.us">http://www.cnri.reston.va.us</A>.  Anybody who
wishes Python well should join the PSA.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq02.008.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq02.008.htp">Log info</A>
<P>

<HR>
<H2><A NAME="2.9">2.9. How do I join the PSA?</A></H2>
The full scoop is available on the web, see
<A HREF="http://www.python.org/psa/regtempl.html">http://www.python.org/psa/regtempl.html</A>.  Summary: send a check
of at least $50 to CNRI/PSA, 1895 Preston White Drive, Suite 100, in
Reston, VA 20191.  Full-time students pay $25.  Prices drop by half
the second half of the fiscal year (April - September).  Companies can 
join for a mere $500. Pets may join for only $15!
<P>

<A HREF="faqw.py?req=edit&amp;file=faq02.009.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq02.009.htp">Log info</A>

/ Last changed on Thu Jul 30 10:30:20 1998 by
<A HREF="mailto:akuchlin@cnri.reston.va.us">A.M. Kuchling</A>
<P>

<HR>
<H2><A NAME="2.10">2.10. What are the benefits of joining the PSA?</A></H2>
Like National Public Radio, without your support, Python will
wither.
<P>
If you join, your name will be mentioned on the PSA's web server.
Workshops organized by the PSA <A HREF="http://www.python.org/workshops">http://www.python.org/workshops</A>/
are only accessible to PSA members (you can join at the door).  The
PSA is working on additional benefits, such as reduced prices for
books and software, and early access to alpha versions of Python.
(The latter has been realized -- the 1.5 alpha testing program
is accessible only to PSA members.)
<P>
You might also consider to become a member of the starship project. 
It is a free group of Python enthusiasts, and you get a free account.
They just happen to admit only PSA members.
Check out <A HREF="http://starship.skyport.net">http://starship.skyport.net</A> for further information.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq02.010.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq02.010.htp">Log info</A>

/ Last changed on Wed May 21 20:31:30 1997 by
<A HREF="mailto:tismer@appliedbiometrics.com">Christian Tismer</A>
<P>

<HR>
<H2><A NAME="2.11">2.11. Is Python Y2K (Year 2000) Compliant?</A></H2>
Since Python is available free of charge, I don't want to make any absolute
guarantees.  If there <I>is</I> a problem that I didn't foresee, I don't
want to be sued for damages.
<P>
That said, I'm pretty convinced that there are no Y2K problems
anywhere in the core distribution, either 1.5 or 1.4.  Python does few 
date manipulations, and what it does is all based on the Unix
representation for time (even on non-Unix systems) which uses seconds
since 1970 and won't overflow until 2038.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq02.011.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq02.011.htp">Log info</A>

/ Last changed on Fri Apr 10 14:57:45 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H1>3. Building Python and Other Known Bugs</H1>

<HR>
<H2><A NAME="3.1">3.1. Is there a test set?</A></H2>
Sure.  You can run it after building with "make test", or you can
run it manuall with the command
<P>
<PRE>
	import test.autotest
</PRE>
In 1.4 or earlier, use
<P>
<PRE>
	import autotest
</PRE>
The test set doesn't test <I>all</I> features of Python,
but it goes a long way to confirm that Python is actually working.
<P>
NOTE: if "make test" fails, don't just mail the output to the
newsgroup -- this doesn't give enough information to debug the
problem.  Instead, find out which test fails, and run that test
manually from an interactive interpreter.  For example, if
"make test" reports that test_spam fails, try this interactively:
<P>
<PRE>
	import test.test_spam
</PRE>
This generally produces more verbose output which can be diagnosed
to debug the problem.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.001.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.001.htp">Log info</A>

/ Last changed on Fri Feb  6 15:04:24 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="3.2">3.2. When running the test set, I get complaints about floating point operations, but when playing with floating point operations I cannot find anything wrong with them.</A></H2>
The test set makes occasional unwarranted assumptions about the
semantics of C floating point operations.  Until someone donates a
better floating point test set, you will have to comment out the
offending floating point tests and execute similar tests manually.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.002.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.002.htp">Log info</A>
<P>

<HR>
<H2><A NAME="3.3">3.3. Link errors after rerunning the configure script.</A></H2>
It is generally necessary to run "make clean" after a configuration
change.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.003.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.003.htp">Log info</A>
<P>

<HR>
<H2><A NAME="3.4">3.4. The python interpreter complains about options passed to a script (after the script name).</A></H2>
You are probably linking with GNU getopt, e.g. through -liberty.
Don't.  The reason for the complaint is that GNU getopt, unlike System
V getopt and other getopt implementations, doesn't consider a
non-option to be the end of the option list.  A quick (and compatible)
fix for scripts is to add "--" to the interpreter, like this:
<P>
<PRE>
        #! /usr/local/bin/python --
</PRE>
You can also use this interactively:
<P>
<PRE>
        python -- script.py [options]
</PRE>
Note that a working getopt implementation is provided in the Python
distribution (in Python/getopt.c) but not automatically used.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.004.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.004.htp">Log info</A>
<P>

<HR>
<H2><A NAME="3.5">3.5. When building on the SGI, make tries to run python to create glmodule.c, but python hasn't been built or installed yet.</A></H2>
Comment out the line mentioning glmodule.c in Setup and build a
python without gl first; install it or make sure it is in your $PATH,
then edit the Setup file again to turn on the gl module, and make
again.  You don't need to do "make clean"; you do need to run "make
Makefile" in the Modules subdirectory (or just run "make" at the
toplevel).
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.005.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.005.htp">Log info</A>
<P>

<HR>
<H2><A NAME="3.6">3.6. I use VPATH but some targets are built in the source directory.</A></H2>
On some systems (e.g. Sun), if the target already exists in the
source directory, it is created there instead of in the build
directory.  This is usually because you have previously built without
VPATH.  Try running "make clobber" in the source directory.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.006.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.006.htp">Log info</A>
<P>

<HR>
<H2><A NAME="3.7">3.7. Trouble building or linking with the GNU readline library.</A></H2>
Consider using readline 2.0.  Some hints:
<P>
You can use the GNU readline library to improve the interactive user
interface: this gives you line editing and command history when
calling python interactively. You need to configure and build the GNU
readline library before running the configure script. Its sources are
no longer distributed with Python; you can ftp them from any GNU
mirror site, or from its home site
<A HREF="ftp://slc2.ins.cwru.edu/pub/dist/readline-2.0.tar.gz">ftp://slc2.ins.cwru.edu/pub/dist/readline-2.0.tar.gz</A> (or a
higher version number -- using version 1.x is not recommended). Pass
the Python configure script the option --with-readline=DIRECTORY where
DIRECTORY is the absolute pathname of the directory where you've built
the readline library. Some hints on building and using the readline
library:
On SGI IRIX 5, you may have to add the following
to rldefs.h:
<P>
<PRE>
        #ifndef sigmask
        #define sigmask(sig) (1L &lt;&lt; ((sig)-1))
        #endif
</PRE>
On most systems, you will have to add #include "rldefs.h" to the
top of several source files, and if you use the VPATH feature, you
will have to add dependencies of the form foo.o: foo.c to the
Makefile for several values of foo.
The readline library requires use of the termcap library. A
known problem with this is that it contains entry points which
cause conflicts with the STDWIN and SGI GL libraries. The STDWIN
conflict can be solved by adding a line saying '#define werase w_erase' to the
stdwin.h file (in the STDWIN distribution, subdirectory H). The
GL conflict has been solved in the Python configure script by a
hack that forces use of the static version of the termcap library.
Check the newsgroup gnu.bash.bug news:gnu.bash.bug for
specific problems with the readline library (I don't read this group
but I've been told that it is the place for readline bugs).
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.007.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.007.htp">Log info</A>

/ Last changed on Wed May 21 16:01:09 1997 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="3.8">3.8. Trouble with socket I/O on older Linux 1.x versions.</A></H2>
Once you've built Python, use it to run the regen.py script in the
Lib/linux1 directory.  Apparently the files as distributed don't match
the system headers on some Linux versions.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.008.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.008.htp">Log info</A>
<P>

<HR>
<H2><A NAME="3.9">3.9. Trouble with prototypes on Ultrix.</A></H2>
Ultrix cc seems broken -- use gcc, or edit config.h to #undef
HAVE_PROTOTYPES.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.009.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.009.htp">Log info</A>
<P>

<HR>
<H2><A NAME="3.10">3.10. Other trouble building Python on platform X.</A></H2>
Please email the details to <A HREF="mailto:guido@cnri.reston.va.us">guido@cnri.reston.va.us</A> and I'll look
into it.  Please provide as many details as possible.  In particular,
if you don't tell me what type of computer and what operating system
(and version) you are using it will be difficult for me to figure out
what is the matter.  If you get a specific error message, please email
it to me too.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.010.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.010.htp">Log info</A>
<P>

<HR>
<H2><A NAME="3.11">3.11. How to configure dynamic loading on Linux.</A></H2>
This is now automatic as long as your Linux version uses the ELF
object format (all recent Linuxes do).
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.011.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.011.htp">Log info</A>
<P>

<HR>
<H2><A NAME="3.12">3.12. I can't get shared modules to work on Linux 2.0 (Slackware96)?</A></H2>
This is a bug in the Slackware96 release. The fix is simple: Make sure
that there is a link from /lib/libdl.so to /lib/libdl.so.1 so that the
following links are setup: /lib/libdl.so -&gt; /lib/libdl.so.1
/lib/libdl.so.1 -&gt; /lib/libdl.so.1.7.14 You may have to rerun the
configure script, after rm'ing the config.cache file, before you
attempt to rebuild python after this fix.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.012.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.012.htp">Log info</A>

/ Last changed on Wed May 21 15:45:03 1997 by
<A HREF="mailto:guido2@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="3.13">3.13. Trouble when making modules shared on Linux.</A></H2>
This happens when you have built Python for static linking and then
enable
<PRE>
  *shared*
</PRE>
in the Setup file.  Shared library code must be
compiled with "-fpic".  If a .o file for the module already exist that
was compiled for static linking, you must remove it or do "make clean"
in the Modules directory.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.013.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.013.htp">Log info</A>

/ Last changed on Fri May 23 13:42:30 1997 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="3.14">3.14. How to use threads on Linux.</A></H2>
[Greg Stein]
You need to have a very recent libc, or even better, get the
LinuxThreads-0.5 distribution. Note that if you install LinuxThreads
normally, then you shouldn't need to specify the directory to the
-with-thread configuration switch. The configure script ought to find it
without a problem. To make sure everything builds properly, do a "make
clean", remove config.cache, re-run configure with that switch, and then
build.
<P>
[Andy Dustman]
On glibc systems (i.e. RedHat 5.0+), LinuxThreads is obsoleted by
POSIX threads (-lpthread). If you upgraded from an earlier RedHat,
remove LinuxThreads with "rpm -e linuxthreads linuxthreads-devel". 
Then run configure using --with-thread as above.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.014.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.014.htp">Log info</A>

/ Last changed on Wed Dec 23 10:46:31 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="3.15">3.15. Errors when linking with a shared library containing C++ code.</A></H2>
Link the main Python binary with C++.  Change the definition of
LINKCC in Modules/Makefile to be your C++ compiler.  You may have to
edit config.c slightly to make it compilable with C++.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.015.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.015.htp">Log info</A>
<P>

<HR>
<H2><A NAME="3.16">3.16. I built with tkintermodule.c enabled but get 'Tkinter not found'</A></H2>
Tkinter.py (note: upper case T) lives in a subdirectory of Lib,
Lib/tkinter.  If you are using the default module search path, you
probably didn't enable the line in the Modules/Setup file defining
TKPATH; if you use the environment variable PYTHONPATH, you'll have to
add  the proper tkinter subdirectory.
<P>
For Windows, see question 7.11.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.016.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.016.htp">Log info</A>

/ Last changed on Fri May 23 14:29:00 1997 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="3.17">3.17. I built with Tk 4.0 but Tkinter complains about the Tk version.</A></H2>
Several things could cause this.  You most likely have a Tk 3.6
installation that wasn't completely eradicated by the Tk 4.0
installation (which tends to add "4.0" to its installed files).  You
may have the Tk 3.6 support library installed in the place where the
Tk 4.0 support files should be (default /usr/local/lib/tk/); you may
have compiled Python with the old tk.h header file (yes, this actually
compiles!); you may actually have linked with Tk 3.6 even though Tk
4.0 is also around.  Similar for Tcl 7.4 vs. Tcl 7.3.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.017.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.017.htp">Log info</A>
<P>

<HR>
<H2><A NAME="3.18">3.18. Compilation or link errors for the _tkinter module</A></H2>
Most likely, there's a version mismatch between the Tcl/Tk header
files (tcl.h and tk.h) and the Tcl/Tk libraries you are using e.g.
"-ltk8.0" and "-ltcl8.0" arguments for _tkinter in the Setup file).
It is possible to install several versions of the Tcl/Tk libraries,
but there can only be one version of the tcl.h and tk.h header
files.  If the library doesn't match the header, you'll get
problems, either when linking the module, or when importing it.
Fortunately, the version number is clearly stated in each file,
so this is easy to find.  Reinstalling and using the latest
version usually fixes the problem.
<P>
(Also note that when compiling unpatched Python 1.5.1 against
Tcl/Tk 7.6/4.2 or older, you get an error on Tcl_Finalize.  See
the 1.5.1 patch page at <A HREF="http://www.python.org/1.5/patches-1.5.1">http://www.python.org/1.5/patches-1.5.1</A>/.)
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.018.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.018.htp">Log info</A>

/ Last changed on Thu Jun 11 00:49:14 1998 by
<A HREF="mailto:guido@python.org">Gvr</A>
<P>

<HR>
<H2><A NAME="3.19">3.19. I configured and built Python for Tcl/Tk but &quot;import Tkinter&quot; fails.</A></H2>
Most likely, you forgot to enable the line in Setup that says
"TKPATH=:$(DESTLIB)/tkinter".
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.019.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.019.htp">Log info</A>
<P>

<HR>
<H2><A NAME="3.20">3.20. Tk doesn't work right on DEC Alpha.</A></H2>
You probably compiled either Tcl, Tk or Python with gcc.  Don't.
For this platform, which has 64-bit integers, gcc is known to generate
broken code.  The standard cc (which comes bundled with the OS!)
works.  If you still prefer gcc, at least try recompiling with cc
before reporting problems to the newsgroup or the author; if this
fixes the problem, report the bug to the gcc developers instead.  (As
far as we know, there are no problem with gcc on other platforms --
the instabilities seem to be restricted to the DEC Alpha.)  See also
question 3.6.
<P>
There's also a 64-bit bugfix for Tcl/Tk; see
<P>
<PRE>
	<A HREF="http://grail.cnri.reston.va.us/grail/info/patches/tk64bit.txt">http://grail.cnri.reston.va.us/grail/info/patches/tk64bit.txt</A>
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.020.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.020.htp">Log info</A>

/ Last changed on Thu May 22 11:27:08 1997 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="3.21">3.21. Several common system calls are missing from the posix module.</A></H2>
Most likely, <I>all</I> test compilations run by the configure script
are failing for some reason or another.  Have a look in config.log to
see what could be the reason.  A common reason is specifying a
directory to the --with-readline option that doesn't contain the
libreadline.a file.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.021.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.021.htp">Log info</A>
<P>

<HR>
<H2><A NAME="3.22">3.22. ImportError: No module named string, on MS Windows.</A></H2>
Most likely, your PYTHONPATH environment variable should be set to
something like:
<P>
set PYTHONPATH=c:\python;c:\python\lib;c:\python\scripts
<P>
(assuming Python was installed in c:\python)
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.022.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.022.htp">Log info</A>
<P>

<HR>
<H2><A NAME="3.23">3.23. Core dump on SGI when using the gl module.</A></H2>
There are conflicts between entry points in the termcap and curses
libraries and an entry point in the GL library.  There's a hack of a
fix for the termcap library if it's needed for the GNU readline
library, but it doesn't work when you're using curses.  Concluding,
you can't build a Python binary containing both the curses and gl
modules.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.023.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.023.htp">Log info</A>
<P>

<HR>
<H2><A NAME="3.24">3.24. &quot;Initializer not a constant&quot; while building DLL on MS-Windows</A></H2>
Static type object initializers in extension modules may cause compiles to
fail with an error message like "initializer not a constant".  
Fredrik Lundh &lt;<A HREF="mailto:Fredrik.Lundh@image.combitech.se">Fredrik.Lundh@image.combitech.se</A>&gt; explains:
<P>
This shows up when building DLL under MSVC.  There's two ways to
address this: either compile the module as C++, or change your code to
something like:
<P>
<PRE>
  statichere PyTypeObject bstreamtype = {
      PyObject_HEAD_INIT(NULL) /* must be set by init function */
      0,
      "bstream",
      sizeof(bstreamobject),
</PRE>
<PRE>
  ...
</PRE>
<PRE>
  void
  initbstream()
  {
      /* Patch object type */
      bstreamtype.ob_type = &amp;PyType_Type;
      Py_InitModule("bstream", functions);
      ...
  }
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.024.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.024.htp">Log info</A>

/ Last changed on Sun May 25 14:58:05 1997 by
<A HREF="mailto:aaron_watters@msn.com">Aaron Watters</A>
<P>

<HR>
<H2><A NAME="3.25">3.25. Output directed to a pipe or file disappears on Linux.</A></H2>
Some people have reported that when they run their script
interactively, it runs great, but that when they redirect it
to a pipe or file, no output appears.
<P>
<PRE>
    % python script.py
    ...some output...
    % python script.py >file
    % cat file
    % # no output
    % python script.py | cat
    % # no output
    %
</PRE>
Nobody knows what causes this, but it is apparently a Linux bug.
Most Linux users are <I>not</I> affected by this.
<P>
There's at least one report of someone who reinstalled Linux
(presumably a newer version) and Python and got rid of the problem;
so this may be the solution.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.025.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.025.htp">Log info</A>

/ Last changed on Mon May 26 11:04:56 1997 by
<A HREF="mailto:guido@cnri.reston.va.us">GvR</A>
<P>

<HR>
<H2><A NAME="3.26">3.26. Syntax Errors all over the place in Linux with libc 5.4</A></H2>
``I have installed python1.4 on my Linux system. When I try run the import statement I get the following error message:''
<P>
<PRE>
   File "&lt;stdin&gt;", line 1
       import sys
          ^
   Syntax Error: "invalid syntax"
</PRE>
Did you compile it yourself? This usually is caused by an
incompatibility between libc 5.4.x and earlier libc's. In
particular, programs compiled with libc 5.4 give incorrect results on
systems which had libc 5.2 installed because the ctype.h file is broken. In this case, Python
can't recognize which characters are letters and so on.
The fix is to install the C library which was used when building
the binary that you installed, or to compile
Python yourself. When you do this, make sure the C library header
files which get used by the compiler match the installed C library.
<P>
[adapted from an answer by Martin v. Loewis]
<P>
PS [adapted from Andreas Jung]:
If you have upgraded to libc 5.4.x, and the problem persists,
check your library path for an older version of libc.
Try to clean update libc with the libs
and the header files and then try to recompile all.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.026.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.026.htp">Log info</A>

/ Last changed on Fri Jul 11 12:20:24 1997 by
<A HREF="mailto:guido@python.org">Guido van Rossum</A>
<P>

<HR>
<H2><A NAME="3.27">3.27. Crash in XIO on Linux when using Tkinter.</A></H2>
When Python is built with threads under Linux, use of Tkinter can
cause crashes like the following:
<P>
<PRE>
  >>> from Tkinter import *
  >>> root = Tk()
  XIO:  fatal IO error 0 (Unknown error) on X server ":0.0"
        after 45 requests (40 known processed) with 1 events remaining.
</PRE>
The reason is that the default Xlib is not built with support for
threads.  If you rebuild Xlib with threads enabled the problems go away.
Alternatively, you can rebuild Python without threads ("make clean"
first!).
<P>
(Disclaimer: this is from memory.)
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.027.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.027.htp">Log info</A>

/ Last changed on Sat Aug 16 10:33:50 1997 by
<A HREF="mailto:guido@python.org">Guido van Rossum</A>
<P>

<HR>
<H2><A NAME="3.28">3.28. How can I test if Tkinter is working?</A></H2>
Try the following:
<P>
<PRE>
  python
  >>> import _tkinter
  >>> import Tkinter
  >>> Tkinter._test()
</PRE>
This should pop up a window with two buttons,
one "Click me" and one "Quit".
<P>
If the first statement (import _tkinter) fails, your Python
installation probably has not been configured to support Tcl/Tk.
On Unix, if you have installed Tcl/Tk, you have to rebuild Python
after editing the Modules/Setup file to enable the _tkinter module
and the TKPATH environment variable.
<P>
It is also possible to get complaints about Tcl/Tk version
number mismatches or missing TCL_LIBRARY or TK_LIBRARY
environment variables.  These have to do with Tcl/Tk installation
problems.
<P>
A common problem is to have installed versions of tcl.h and tk.h
that don't match the installed version of the Tcl/Tk libraries;
this usually results in linker errors or (when using dynamic
loading) complaints about missing symbols during loading
the shared library.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.028.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.028.htp">Log info</A>

/ Last changed on Thu Aug 28 17:01:46 1997 by
<A HREF="mailto:guido@python.org">Guido van Rossum</A>
<P>

<HR>
<H2><A NAME="3.29">3.29. Is there a way to get the interactive mode of the python interpreter to perform function/variable name completion?</A></H2>
(From a posting by Guido van Rossum)
<P>
On Unix, if you have enabled the readline module (i.e. if Emacs-style
command line editing and bash-style history works for you), you can
add this by importing the undocumented standard library module
"rlcompleter".  When completing a simple identifier, it
completes keywords, built-ins and globals in __main__; when completing
NAME.NAME..., it evaluates (!) the expression up to the last dot and
completes its attributes.
<P>
This way, you can do "import string", type "string.", hit the
completion key twice, and see the list of names defined by the
string module.
<P>
Tip: to use the tab key as the completion key, call
<P>
<PRE>
    readline.parse_and_bind("tab: complete")
</PRE>
You can put this in a ~/.pythonrc file, and set the PYTHONSTARTUP
environment variable to ~/.pythonrc.  This will cause the completion to be enabled
whenever you run Python interactively.  
<P>
Notes (see the docstring for rlcompleter.py for more information):
<P>
* The evaluation of the NAME.NAME... form may cause arbitrary 
application defined code to be executed if an object with a
__getattr__ hook is found.  Since it is the responsibility of the
application (or the user) to enable this feature, I consider this an
acceptable risk.  More complicated expressions (e.g. function calls or
indexing operations) are <I>not</I> evaluated.
<P>
* GNU readline is also used by the built-in functions input() and
raw_input(), and thus these also benefit/suffer from the complete
features.  Clearly an interactive application can benefit by
specifying its own completer function and using raw_input() for all
its input.
<P>
* When stdin is not a tty device, GNU readline is never
used, and this module (and the readline module) are silently inactive.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.029.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.029.htp">Log info</A>

/ Last changed on Fri Jun 12 09:55:24 1998 by
<A HREF="mailto:akuchlin@cnri.reston.va.us">A.M. Kuchling</A>
<P>

<HR>
<H2><A NAME="3.30">3.30. Why is the Python interpreter not built as a shared library?</A></H2>
(This is a Unix question; on Mac and Windows, it <I>is</I> a shared
library.)
<P>
It's just a nightmare to get this to work on all different platforms.
Shared library portability is a pain.  And yes, I know about GNU libtool
-- but it requires me to use its conventions for filenames etc, and it 
would require a complete and utter rewrite of all the makefile and
config tools I'm currently using.
<P>
In practice, few applications embed Python -- it's much more common to
have Python extensions, which already are shared libraries.  Also,
serious embedders often want total control over which Python version
and configuration they use so they wouldn't want to use a standard
shared library anyway.  So while the motivation of saving space
when lots of apps embed Python is nice in theory, I
doubt that it will save much in practice.  (Hence the low priority I
give to making a shared library.)
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.030.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.030.htp">Log info</A>

/ Last changed on Thu Oct  8 10:02:21 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="3.31">3.31. Build with GCC on Solaris 2.6 (SunOS 5.6) fails</A></H2>
If you have upgraded Solaris 2.5 or 2.5.1 to Solaris 2.6,
but you have not upgraded
your GCC installation, the compile may fail, e.g. like this:
<P>
<PRE>
 In file included from /usr/include/sys/stream.h:26,
                  from /usr/include/netinet/in.h:38,
                  from /usr/include/netdb.h:96,
                  from ./socketmodule.c:121:
 /usr/include/sys/model.h:32: #error "No DATAMODEL_NATIVE specified"
</PRE>
Solution: rebuild GCC for Solaris 2.6. 
You might be able to simply re-run fixincludes, but
people have had mixed success with doing that.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq03.031.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq03.031.htp">Log info</A>

/ Last changed on Wed Oct 21 11:18:46 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H1>4. Programming in Python</H1>

<HR>
<H2><A NAME="4.1">4.1. Is there a source code level debugger with breakpoints, step, etc.?</A></H2>
Yes.  Check out module pdb.  It is documented in the Library Reference
Manual; pdb.help() also prints the documentation.  You can write your own
debugger by using the code for pdb as an example.
<P>
Pythonwin also has a GUI debugger available, based on bdb, which colors breakpoints and has quite a few cool features (including debugging non-Pythonwin programs).  The interface needs some work, but is interesting none the less.  A reference can be found in <A HREF="http://www.python.org/ftp/python/pythonwin/pwindex.html">http://www.python.org/ftp/python/pythonwin/pwindex.html</A>
<P>
Richard Wolff has created a modified version of pdb, called Pydb, for use with the popular Data Display Debugger (DDD). Pydb can be found at <A HREF="http://daikon.tuc.noao.edu/python">http://daikon.tuc.noao.edu/python</A>/, and DDD can be found at <A HREF="http://www.cs.tu-bs.de/softech/ddd">http://www.cs.tu-bs.de/softech/ddd</A>/
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.001.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.001.htp">Log info</A>

/ Last changed on Fri Aug 28 12:04:44 1998 by
<A HREF="mailto:fleck@informatik.uni-bonn.de">Markus Fleck</A>
<P>

<HR>
<H2><A NAME="4.2">4.2. Can I create an object class with some methods implemented in C and others in Python (e.g. through inheritance)? (Also phrased as: Can I use a built-in type as base class?)</A></H2>
No, but you can easily create a Python class which serves as a
wrapper around a built-in object, e.g. (for dictionaries):
<P>
<PRE>
        # A user-defined class behaving almost identical
        # to a built-in dictionary.
        class UserDict:
                def __init__(self): self.data = {}
                def __repr__(self): return repr(self.data)
                def __cmp__(self, dict):
                        if type(dict) == type(self.data):
                                return cmp(self.data, dict)
                        else:
                                return cmp(self.data, dict.data)
                def __len__(self): return len(self.data)
                def __getitem__(self, key): return self.data[key]
                def __setitem__(self, key, item): self.data[key] = item
                def __delitem__(self, key): del self.data[key]
                def keys(self): return self.data.keys()
                def items(self): return self.data.items()
                def values(self): return self.data.values()
                def has_key(self, key): return self.data.has_key(key)
</PRE>
A2. See Jim Fulton's ExtensionClass for an example of a mechanism
which allows you to have superclasses which you can inherit from in
Python -- that way you can have some methods from a C superclass (call
it a mixin) and some methods from either a Python superclass or your
subclass.  See <A HREF="http://www.digicool.com/papers/ExtensionClass.html">http://www.digicool.com/papers/ExtensionClass.html</A>.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.002.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.002.htp">Log info</A>
<P>

<HR>
<H2><A NAME="4.3">4.3. Is there a curses/termcap package for Python?</A></H2>
[Andrew Kuchling] 
The standard Python distribution comes with a curses module in
the Modules/ subdirectory, though it's not compiled by default.
However, that module only supports plain curses; you can't use ncurses
features like colors with it (though it will link with ncurses).
<P>
Oliver Andrich has an enhanced module
that does support such features; there's a version available at
<A HREF="http://andrich.net/python/selfmade.html#ncursesmodule">http://andrich.net/python/selfmade.html#ncursesmodule</A> .
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.003.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.003.htp">Log info</A>

/ Last changed on Tue Aug 18 16:45:59 1998 by
<A HREF="mailto:akuchlin@cnri.reston.va.us">A.M. Kuchling</A>
<P>

<HR>
<H2><A NAME="4.4">4.4. Is there an equivalent to C's onexit() in Python?</A></H2>
Yes, if you import sys and assign a function to sys.exitfunc, it
will be called when your program exits, is killed by an unhandled
exception, or (on UNIX) receives a SIGHUP or SIGTERM signal.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.004.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.004.htp">Log info</A>
<P>

<HR>
<H2><A NAME="4.5">4.5. When I define a function nested inside another function, the nested function seemingly can't access the local variables of the outer function. What is going on? How do I pass local data to a nested function?</A></H2>
Python does not have arbitrarily nested scopes.  When you need to
create a function that needs to access some data which you have
available locally, create a new class to hold the data and return a
method of an instance of that class, e.g.:
<P>
<PRE>
        class MultiplierClass:
            def __init__(self, factor):
                self.factor = factor
            def multiplier(self, argument):
                return argument * self.factor
</PRE>
<PRE>
        def generate_multiplier(factor):
            return MultiplierClass(factor).multiplier
</PRE>
<PRE>
        twice = generate_multiplier(2)
        print twice(10)
        # Output: 20
</PRE>
An alternative solution uses default arguments, e.g.:
<P>
<PRE>
        def generate_multiplier(factor):
            def multiplier(arg, fact = factor):
                return arg*fact
            return multiplier
</PRE>
<PRE>
        twice = generate_multiplier(2)
        print twice(10)
        # Output: 20
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.005.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.005.htp">Log info</A>
<P>

<HR>
<H2><A NAME="4.6">4.6. How do I iterate over a sequence in reverse order?</A></H2>
If it is a list, the fastest solution is
<P>
<PRE>
        list.reverse()
        try:
                for x in list:
                        "do something with x"
        finally:
                list.reverse()
</PRE>
This has the disadvantage that while you are in the loop, the list
is temporarily reversed.  If you don't like this, you can make a copy.
This appears expensive but is actually faster than other solutions:
<P>
<PRE>
        rev = list[:]
        rev.reverse()
        for x in rev:
                &lt;do something with x&gt;
</PRE>
If it's not a list, a more general but slower solution is:
<P>
<PRE>
        for i in range(len(sequence)-1, -1, -1):
                x = sequence[i]
                &lt;do something with x&gt;
</PRE>
A more elegant solution, is to define a class which acts as a sequence
and yields the elements in reverse order (solution due to Steve
Majewski):
<P>
<PRE>
        class Rev:
                def __init__(self, seq):
                        self.forw = seq
                def __len__(self):
                        return len(self.forw)
                def __getitem__(self, i):
                        return self.forw[-(i + 1)]
</PRE>
You can now simply write:
<P>
<PRE>
        for x in Rev(list):
                &lt;do something with x&gt;
</PRE>
Unfortunately, this solution is slowest of all, due to the method
call overhead...
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.006.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.006.htp">Log info</A>

/ Last changed on Sun May 25 21:10:50 1997 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="4.7">4.7. My program is too slow. How do I speed it up?</A></H2>
That's a tough one, in general.  There are many tricks to speed up
Python code; I would consider rewriting parts in C only as a last
resort.  One thing to notice is that function and (especially) method
calls are rather expensive; if you have designed a purely OO interface
with lots of tiny functions that don't do much more than get or set an
instance variable or call another method, you may consider using a
more direct way, e.g. directly accessing instance variables.  Also see
the standard module "profile" (described in the Library Reference
manual) which makes it possible to find out where
your program is spending most of its time (if you have some patience
-- the profiling itself can slow your program down by an order of
magnitude).
<P>
Remember that many standard optimization heuristics you
may know from other programming experience may well apply
to Python.  For example it may be faster to send output to output
devices using larger writes rather than smaller ones in order to
avoid the overhead of kernel system calls.  Thus CGI scripts
that write all output in "one shot" may be notably faster than
those that write lots of small pieces of output.
<P>
Also, be sure to use "aggregate" operations where appropriate.
For example the "slicing" feature allows programs to chop up
lists and other sequence objects in a single tick of the interpreter
mainloop using highly optimized C implementations.  Thus to 
get the same effect as
<P>
<PRE>
  L2 = []
  for i in range[3]:
       L2.append(L1[i])
</PRE>
it is much shorter and far faster to use
<P>
<PRE>
  L2 = list(L1[:3]) # "list" is redundant if L1 is a list.
</PRE>
Note that the map() function, particularly used with
builtin methods or builtin functions can be a convenient
accellerator.  For example to pair the elements of two
lists together:
<P>
<PRE>
  >>> map(None, [1,2,3], [4,5,6])
  [(1, 4), (2, 5), (3, 6)]
</PRE>
or to compute a number of sines:
<P>
<PRE>
  >>> map( math.sin, (1,2,3,4))
  [0.841470984808, 0.909297426826, 0.14112000806,   -0.756802495308]
</PRE>
The map operation completes very quickly in such cases.
<P>
Other examples of aggregate operations include the join, joinfields,
split, and splitfields methods of the standard string builtin
module.  For example if s1..s7 are large (10K+) strings then
string.joinfields([s1,s2,s3,s4,s5,s6,s7], "") may be far faster than
the more obvious s1+s2+s3+s4+s5+s6+s7, since the "summation"
will compute many subexpressions, whereas joinfields does all
copying in one pass.  For manipulating strings also consider the 
regular expression libraries and the "substitution" operations
String % tuple and String % dictionary.  Also be sure to use
the list.sort builtin method to do sorting, and see FAQ's 4.51
and 4.59 for examples of moderately advanced usage -- list.sort beats
other techniques for sorting in all but the most extreme
circumstances.
<P>
There are many other aggregate operations
available in the standard libraries and in contributed libraries
and extensions.
<P>
Another common trick is to "push loops into functions or methods."
For example suppose you have a program that runs slowly and you
use the profiler (profile.run) to determine that a Python function ff
is being called lots of times.  If you notice that ff 
<P>
<PRE>
   def ff(x):
       ...do something with x computing result...
       return result
</PRE>
tends to be called in loops like (A)
<P>
<PRE>
   list = map(ff, oldlist)
</PRE>
or (B)
<P>
<PRE>
   for x in sequence:
       value = ff(x)
       ...do something with value...
</PRE>
then you can often eliminate function call overhead by rewriting
ff to
<P>
<PRE>
   def ffseq(seq):
       resultseq = []
       for x in seq:
           ...do something with x computing result...
           resultseq.append(result)
       return resultseq
</PRE>
and rewrite (A) to
<P>
<PRE>
    list = ffseq(oldlist)
</PRE>
and (B) to
<P>
<PRE>
    for value in ffseq(sequence):
        ...do something with value...
</PRE>
Other single calls ff(x) translate to ffseq([x])[0] with little
penalty.  Of course this technique is not always appropriate
and there are other variants, which you can figure out.
<P>
You can gain some performance by explicitly storing the results of
a function or method lookup into a local variable.  A loop like
<P>
<PRE>
    for key in token:
        dict[key] = dict.get(key, 0) + 1
</PRE>
resolves dict.get every iteration.  If the method isn't going to
change, a faster implementation is
<P>
<PRE>
    dict_get = dict.get  # look up the method once
    for key in token:
        dict[key] = dict_get(key, 0) + 1
</PRE>
Default arguments can be used to determine values once, at
compile time instead of at run time.  This can only be done for
functions or objects which will not be changed during program
execution, such as replacing
<P>
<PRE>
    def degree_sin(deg):
        return math.sin(deg * math.pi / 180.0)
</PRE>
with
<P>
<PRE>
    def degree_sin(deg, factor = math.pi/180.0, sin = math.sin):
        return sin(deg * factor)
</PRE>
Because this trick uses default arguments for terms which should
not be changed, it should only be used when you are not concerned
with presenting a possibly confusing API to your users.
<P>
<P>
For an anecdote related to optimization, see
<P>
<PRE>
	<A HREF="http://www.python.org/doc/essays/list2str.html">http://www.python.org/doc/essays/list2str.html</A>
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.007.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.007.htp">Log info</A>

/ Last changed on Sat Jan 23 17:07:58 1999 by
<A HREF="mailto:dalke@acm.org">Andrew Dalke</A>
<P>

<HR>
<H2><A NAME="4.8">4.8. When I have imported a module, then edit it, and import it again (into the same Python process), the changes don't seem to take place. What is going on?</A></H2>
For reasons of efficiency as well as consistency, Python only reads
the module file on the first time a module is imported.  (Otherwise a
program consisting of many modules, each of which imports the same
basic module, would read the basic module over and over again.)  To
force rereading of a changed module, do this:
<P>
<PRE>
        import modname
        reload(modname)
</PRE>
Warning: this technique is not 100% fool-proof.  In particular,
modules containing statements like
<P>
<PRE>
        from modname import some_objects
</PRE>
will continue to work with the old version of the imported objects.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.008.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.008.htp">Log info</A>
<P>

<HR>
<H2><A NAME="4.9">4.9. How do I find the current module name?</A></H2>
A module can find out its own module name by looking at the
(predefined) global variable __name__.  If this has the value
'__main__' you are running as a script.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.009.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.009.htp">Log info</A>
<P>

<HR>
<H2><A NAME="4.10">4.10. I have a module in which I want to execute some extra code when it is run as a script. How do I find out whether I am running as a script?</A></H2>
See the previous question.  E.g. if you put the following on the
last line of your module, main() is called only when your module is
running as a script:
<P>
<PRE>
        if __name__ == '__main__': main()
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.010.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.010.htp">Log info</A>
<P>

<HR>
<H2><A NAME="4.11">4.11. I try to run a program from the Demo directory but it fails with ImportError: No module named ...; what gives?</A></H2>
This is probably an optional module (written in C!) which hasn't
been configured on your system.  This especially happens with modules
like "Tkinter", "stdwin", "gl", "Xt" or "Xm".  For Tkinter, STDWIN and
many other modules, see Modules/Setup.in for info on how to add these
modules to your Python, if it is possible at all.  Sometimes you will
have to ftp and build another package first (e.g. Tcl and Tk for Tkinter).
Sometimes the module only works on specific platforms (e.g. gl only works
on SGI machines).
<P>
NOTE: if the complaint is about "Tkinter" (upper case T) and you have
already configured module "tkinter" (lower case t), the solution is
<I>not</I> to rename tkinter to Tkinter or vice versa.  There is probably
something wrong with your module search path.  Check out the value of
sys.path.
<P>
For X-related modules (Xt and Xm) you will have to do more work: they
are currently not part of the standard Python distribution.  You will
have to ftp the Extensions tar file, i.e.
<A HREF="ftp://ftp.python.org/pub/python/src/X-extension.tar.gz">ftp://ftp.python.org/pub/python/src/X-extension.tar.gz</A> and follow
the instructions there.
<P>
See also the next question.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.011.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.011.htp">Log info</A>

/ Last changed on Mon Jul  7 00:36:18 1997 by
<A HREF="mailto:klm@python.org">Ken Manheimer</A>
<P>

<HR>
<H2><A NAME="4.12">4.12. I have successfully built Python with STDWIN but it can't find some modules (e.g. stdwinevents).</A></H2>
There's a subdirectory of the library directory named 'stdwin'
which should be in the default module search path.  There's a line in
Modules/Setup(.in) that you have to enable for this purpose --
unfortunately in the latest release it's not near the other
STDWIN-related lines so it's easy to miss it.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.012.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.012.htp">Log info</A>
<P>

<HR>
<H2><A NAME="4.13">4.13. What GUI toolkits exist for Python?</A></H2>
Depending on what platform(s) you are aiming at, there are several.
<P>
Currently supported solutions:
<P>
There's a neat object-oriented interface to the Tcl/Tk widget set,
called Tkinter.  It is part of the standard Python distribution and
well-supported -- all you need to do is build and install Tcl/Tk and
enable the _tkinter module and the TKPATH definition in Modules/Setup
when building Python.  This is probably the easiest to install and
use, and the most complete widget set.  It is also very likely that in
the future the standard Python GUI API will be based on or at least
look very much like the Tkinter interface.  For more info about Tk,
including pointers to the source, see the Tcl/Tk home page at
<A HREF="http://www.scriptics.com">http://www.scriptics.com</A>.  Tcl/Tk is now fully
portable to the Mac and Windows platforms (NT and 95 only); you need
Python 1.4beta3 or later and Tk 4.1patch1 or later.
<P>
There's an interface to X11, including the Athena and Motif widget
sets (and a few individual widgets, like Mosaic's HTML widget and
SGI's GL widget) available from
<A HREF="ftp://ftp.python.org/pub/python/src/X-extension.tar.gz">ftp://ftp.python.org/pub/python/src/X-extension.tar.gz</A>.
Support by Sjoerd Mullender <A HREF="mailto:sjoerd@cwi.nl">sjoerd@cwi.nl</A>.
<P>
On top of the X11 interface there's the (recently revived) vpApp
toolkit by Per Spilling, now also maintained by Sjoerd Mullender
<A HREF="mailto:sjoerd@cwi.nl">sjoerd@cwi.nl</A>.  See <A HREF="ftp://ftp.cwi.nl/pub/sjoerd/vpApp.tar.gz">ftp://ftp.cwi.nl/pub/sjoerd/vpApp.tar.gz</A>.
<P>
The Mac port has a rich and ever-growing set of modules that support
the native Mac toolbox calls.  See the documentation that comes with
the Mac port.  See <A HREF="ftp://ftp.python.org/pub/python/mac">ftp://ftp.python.org/pub/python/mac</A>.  Support
by Jack Jansen <A HREF="mailto:jack@cwi.nl">jack@cwi.nl</A>.
<P>
The NT port supported by Mark Hammond <A HREF="mailto:MHammond@skippinet.com.au">MHammond@skippinet.com.au</A>
(see question 7.2) includes an interface to the Microsoft Foundation
Classes and a Python programming environment using it that's written
mostly in Python.  See
<A HREF="ftp://ftp.python.org/pub/python/pythonwin">ftp://ftp.python.org/pub/python/pythonwin</A>/.
<P>
There's an object-oriented GUI based on the Microsoft Foundation
Classes model called WPY, supported by Jim Ahlstrom <A HREF="mailto:jim@interet.com">jim@interet.com</A>.
Programs written in WPY run unchanged and with native look and feel on
Windows NT/95, Windows 3.1 (using win32s), and on Unix (using Tk).
Source and binaries for Windows and Linux are available in
<A HREF="ftp://ftp.python.org/pub/python/wpy">ftp://ftp.python.org/pub/python/wpy</A>/.
<P>
Obsolete or minority solutions:
<P>
There's an interface to wxWindows.  wxWindows is a portable GUI
class library written in C++.  It supports XView, Motif, MS-Windows as
targets.  There is some support for Macs and CURSES as well.
wxWindows preserves the look and feel of the underlying graphics
toolkit.  See the wxPython WWW page at
<A HREF="http://www.aiai.ed.ac.uk/~jacs/wx/wxpython/wxpython.html">http://www.aiai.ed.ac.uk/~jacs/wx/wxpython/wxpython.html</A>.
Support for wxPython (by Harri Pasanen <A HREF="mailto:pa@tekla.fi">pa@tekla.fi</A>) appears
to have a low priority.
<P>
For SGI IRIX only, there are unsupported interfaces to the complete
GL (Graphics Library -- low level but very good 3D capabilities) as
well as to FORMS (a buttons-and-sliders-etc package built on top of GL
by Mark Overmars -- ftp'able from
<A HREF="ftp://ftp.cs.ruu.nl/pub/SGI/FORMS">ftp://ftp.cs.ruu.nl/pub/SGI/FORMS</A>/).  This is probably also
becoming obsolete, as OpenGL takes over.
<P>
There's an interface to STDWIN, a platform-independent low-level
windowing interface for Mac and X11.  This is totally unsupported and
rapidly becoming obsolete.  The STDWIN sources are at
<A HREF="ftp://ftp.cwi.nl/pub/stdwin">ftp://ftp.cwi.nl/pub/stdwin</A>/.  (For info about STDWIN 2.0,
please refer to Steven Pemberton <A HREF="mailto:steven@cwi.nl">steven@cwi.nl</A> -- I believe it is
also dead.)
<P>
There is an interface to WAFE, a Tcl interface to the X11
Motif and Athena widget sets.  WAFE is at
<A HREF="http://www.wu-wien.ac.at/wafe/wafe.html">http://www.wu-wien.ac.at/wafe/wafe.html</A>.
<P>
(The Fresco port that was mentioned in earlier versions of this FAQ
no longer seems to exist.  Inquire with Mark Linton.)
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.013.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.013.htp">Log info</A>

/ Last changed on Wed Jul 15 12:23:13 1998 by
<A HREF="mailto:klm@python.org">Ken Manheimer</A>
<P>

<HR>
<H2><A NAME="4.14">4.14. Are there any interfaces to database packages in Python?</A></H2>
There's a whole collection of them in the contrib area of the ftp
server, see <A HREF="http://www.python.org/ftp/python/contrib/Database">http://www.python.org/ftp/python/contrib/Database</A>/.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.014.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.014.htp">Log info</A>
<P>

<HR>
<H2><A NAME="4.15">4.15. Is it possible to write obfuscated one-liners in Python?</A></H2>
Yes.  See the following three examples, due to Ulf Bartelt:
<P>
<PRE>
        # Primes &lt; 1000
        print filter(None,map(lambda y:y*reduce(lambda x,y:x*y!=0,
        map(lambda x,y=y:y%x,range(2,int(pow(y,0.5)+1))),1),range(2,1000)))
</PRE>
<PRE>
        # First 10 Fibonacci numbers
        print map(lambda x,f=lambda x,f:(x&lt;=1) or (f(x-1,f)+f(x-2,f)): f(x,f),
        range(10))
</PRE>
<PRE>
        # Mandelbrot set
        print (lambda Ru,Ro,Iu,Io,IM,Sx,Sy:reduce(lambda x,y:x+y,map(lambda y,
        Iu=Iu,Io=Io,Ru=Ru,Ro=Ro,Sy=Sy,L=lambda yc,Iu=Iu,Io=Io,Ru=Ru,Ro=Ro,i=IM,
        Sx=Sx,Sy=Sy:reduce(lambda x,y:x+y,map(lambda x,xc=Ru,yc=yc,Ru=Ru,Ro=Ro,
        i=i,Sx=Sx,F=lambda xc,yc,x,y,k,f=lambda xc,yc,x,y,k,f:(k&lt;=0)or (x*x+y*y
        >=4.0) or 1+f(xc,yc,x*x-y*y+xc,2.0*x*y+yc,k-1,f):f(xc,yc,x,y,k,f):chr(
        64+F(Ru+x*(Ro-Ru)/Sx,yc,0,0,i)),range(Sx))):L(Iu+y*(Io-Iu)/Sy),range(Sy
        ))))(-2.1, 0.7, -1.2, 1.2, 30, 80, 24)
        #    \___ ___/  \___ ___/  |   |   |__ lines on screen
        #        V          V      |   |______ columns on screen
        #        |          |      |__________ maximum of "iterations"
        #        |          |_________________ range on y axis
        #        |____________________________ range on x axis
</PRE>
Don't try this at home, kids!
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.015.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.015.htp">Log info</A>

/ Last changed on Wed May 21 15:48:33 1997 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="4.16">4.16. Is there an equivalent of C's &quot;?:&quot; ternary operator?</A></H2>
Not directly.  In many cases you can mimic a?b:c with "a and b or
c", but there's a flaw: if b is zero (or empty, or None -- anything
that tests false) then c will be selected instead.  In many cases you
can prove by looking at the code that this can't happen (e.g. because
b is a constant or has a type that can never be false), but in general
this can be a problem.
<P>
Tim Peters (who wishes it was Steve Majewski) suggested the following
solution: (a and [b] or [c])[0].  Because [b] is a singleton list it
is never false, so the wrong path is never taken; then applying [0] to
the whole thing gets the b or c that you really wanted.  Ugly, but it
gets you there in the rare cases where it is really inconvenient to
rewrite your code using 'if'.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.016.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.016.htp">Log info</A>
<P>

<HR>
<H2><A NAME="4.17">4.17. My class defines __del__ but it is not called when I delete the object.</A></H2>
There are several possible reasons for this.
<P>
The del statement does not necessarily call __del__ -- it simply
decrements the object's reference count, and if this reaches zero
__del__ is called.
<P>
If your data structures contain circular links (e.g. a tree where
each child has a parent pointer and each parent has a list of
children) the reference counts will never go back to zero.  You'll
have to define an explicit close() method which removes those
pointers.  Please don't ever call __del__ directly -- __del__ should
call close() and close() should make sure that it can be called more
than once for the same object.
<P>
If the object has ever been a local variable (or argument, which is
really the same thing) to a function that caught an expression in an
except clause, chances are that a reference to the object still exists
in that function's stack frame as contained in the stack trace.
Normally, deleting (better: assigning None to) sys.exc_traceback will
take care of this.  If a stack was printed for an unhandled
exception in an interactive interpreter, delete sys.last_traceback
instead.
<P>
There is code that deletes all objects when the interpreter exits,
but it is not called if your Python has been configured to support
threads (because other threads may still be active).  You can define
your own cleanup function using sys.exitfunc (see question 4.4).
<P>
Finally, if your __del__ method raises an exception, this will be
ignored.  Starting with Python 1.4beta3, a warning message is printed
to sys.stderr when this happens.
<P>
See also question 6.14 for a discussion of the possibility of adding
true garbage collection to Python.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.017.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.017.htp">Log info</A>

/ Last changed on Mon May 26 09:53:04 1997 by
<A HREF="mailto:guido@cnri.reston.va.us">GvR</A>
<P>

<HR>
<H2><A NAME="4.18">4.18. How do I change the shell environment for programs called using os.popen() or os.system()? Changing os.environ doesn't work.</A></H2>
You must be using either a version of python before 1.4, or on a
(rare) system that doesn't have the putenv() library function.
<P>
Before Python 1.4, modifying the environment passed to subshells was
left out of the interpreter because there seemed to be no
well-established portable way to do it (in particular, some systems,
have putenv(), others have setenv(), and some have none at all).  As
of Python 1.4, almost all Unix systems <I>do</I> have putenv(), and so does
the Win32 API, and thus the os module was modified so that changes to
os.environ are trapped and the corresponding putenv() call is made.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.018.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.018.htp">Log info</A>
<P>

<HR>
<H2><A NAME="4.19">4.19. What is a class?</A></H2>
A class is the particular object type that is created by executing
a class statement.  Class objects are used as templates, to create
class instance objects, which embody both the data structure and
program routines specific to a datatype.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.019.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.019.htp">Log info</A>
<P>

<HR>
<H2><A NAME="4.20">4.20. What is a method?</A></H2>
A method is a function that you normally call as
x.name(arguments...) for some object x.  The term is used for methods
of classes and class instances as well as for methods of built-in
objects.  (The latter have a completely different implementation and
only share the way their calls look in Python code.)  Methods of
classes (and class instances) are defined as functions inside the
class definition.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.020.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.020.htp">Log info</A>
<P>

<HR>
<H2><A NAME="4.21">4.21. What is self?</A></H2>
Self is merely a conventional name for the first argument of a
method -- i.e. a function defined inside a class definition.  A method
defined as meth(self, a, b, c) should be called as x.meth(a, b, c) for
some instance x of the class in which the definition occurs;
the called method will think it is called as meth(x, a, b, c).
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.021.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.021.htp">Log info</A>
<P>

<HR>
<H2><A NAME="4.22">4.22. What is an unbound method?</A></H2>
An unbound method is a method defined in a class that is not yet
bound to an instance.  You get an unbound method if you ask for a
class attribute that happens to be a function. You get a bound method
if you ask for an instance attribute.  A bound method knows which
instance it belongs to and calling it supplies the instance automatically;
an unbound method only knows which class it wants for its first
argument (a derived class is also OK).  Calling an unbound method
doesn't "magically" derive the first argument from the context -- you
have to provide it explicitly.
<P>
Trivia note regarding bound methods:  each reference to a bound
method of a particular object creates a bound method object.  If you
have two such references (a = inst.meth; b = inst.meth), they will
compare equal (a == b) but are not the same (a is not b).
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.022.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.022.htp">Log info</A>

/ Last changed on Wed May  6 18:07:25 1998 by
<A HREF="mailto:clarence@avtel.com">Clarence Gardner</A>
<P>

<HR>
<H2><A NAME="4.23">4.23. How do I call a method defined in a base class from a derived class that overrides it?</A></H2>
If your class definition starts with "class Derived(Base): ..."
then you can call method meth defined in Base (or one of Base's base
classes) as Base.meth(self, arguments...).  Here, Base.meth is an
unbound method (see previous question).
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.023.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.023.htp">Log info</A>
<P>

<HR>
<H2><A NAME="4.24">4.24. How do I call a method from a base class without using the name of the base class?</A></H2>
DON'T DO THIS.  REALLY.  I MEAN IT.  It appears that you could call
self.__class__.__bases__[0].meth(self, arguments...) but this fails when
a doubly-derived method is derived from your class: for its instances,
self.__class__.__bases__[0] is your class, not its base class -- so
(assuming you are doing this from within Derived.meth) you would start
a recursive call.
<P>
Often when you want to do this you are forgetting that classes
are first class in Python.  You can "point to" the class you want
to delegate an operation to either at the instance or at the
subclass level.  For example if you want to use a "glorp"
operation of a superclass you can point to the right superclass
to use.
<P>
<PRE>
  class subclass(superclass1, superclass2, superclass3):
      delegate_glorp = superclass2
      ...
      def glorp(self, arg1, arg2):
            ... subclass specific stuff ...
            self.delegate_glorp.glorp(self, arg1, arg2)
       ...
</PRE>
<PRE>
  class subsubclass(subclass):
       delegate_glorp = superclass3
       ...
</PRE>
Note, however that setting delegate_glorp to subclass in
subsubclass would cause an infinite recursion on subclass.delegate_glorp.  Careful!  Maybe you are getting too fancy for your own good.  Consider simplifying the design (?).
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.024.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.024.htp">Log info</A>

/ Last changed on Mon Jul 28 13:58:22 1997 by
<A HREF="mailto:aaron_watters@msn.com">aaron watters</A>
<P>

<HR>
<H2><A NAME="4.25">4.25. How can I organize my code to make it easier to change the base class?</A></H2>
You could define an alias for the base class, assign the real base
class to it before your class definition, and use the alias throughout
your class.  Then all you have to change is the value assigned to the
alias.  Incidentally, this trick is also handy if you want to decide
dynamically (e.g. depending on availability of resources) which base
class to use.  Example:
<P>
<PRE>
        BaseAlias = &lt;real base class&gt;
        class Derived(BaseAlias):
                def meth(self):
                        BaseAlias.meth(self)
                        ...
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.025.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.025.htp">Log info</A>

/ Last changed on Wed May 21 15:49:57 1997 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="4.26">4.26. How can I find the methods or attributes of an object?</A></H2>
This depends on the object type.
<P>
For an instance x of a user-defined class, instance attributes are
found in the dictionary x.__dict__, and methods and attributes defined
by its class are found in x.__class__.__bases__[i].__dict__ (for i in
range(len(x.__class__.__bases__))).  You'll have to walk the tree of
base classes to find <I>all</I> class methods and attributes.
<P>
Many, but not all built-in types define a list of their method names
in x.__methods__, and if they have data attributes, their names may be
found in x.__members__.  However this is only a convention.
<P>
For more information, read the source of the standard (but
undocumented) module newdir.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.026.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.026.htp">Log info</A>
<P>

<HR>
<H2><A NAME="4.27">4.27. I can't seem to use os.read() on a pipe created with os.popen().</A></H2>
os.read() is a low-level function which takes a file descriptor (a
small integer).  os.popen() creates a high-level file object -- the
same type used for sys.std{in,out,err} and returned by the builtin
open() function.  Thus, to read n bytes from a pipe p created with
os.popen(), you need to use p.read(n).
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.027.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.027.htp">Log info</A>
<P>

<HR>
<H2><A NAME="4.28">4.28. How can I create a stand-alone binary from a Python script?</A></H2>
The "freeze" tool in "Tools/freeze/" does what you want.  See the README.
<P>
This works by scanning your source recursively for import statements
(both forms) and looking for the modules on the standard Python path
as well as in the source directory (for built-in modules).  It then
"compiles" the modules written in Python to C code (array initializers
that can be turned into code objects using the marshal module) and
creates a custom-made config file that only contains those built-in
modules which are actually used in the program.  It then compiles the
generated C code and links it with the rest of the Python interpreter
to form a self-contained binary which acts exactly like your script.
<P>
Hint: the freeze program only works if your script's filename ends in
".py".
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.028.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.028.htp">Log info</A>

/ Last changed on Thu May 22 11:51:29 1997 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="4.29">4.29. What WWW tools are there for Python?</A></H2>
See the chapter titled "Internet and WWW" in the Library Reference
Manual.  There's also a web browser written in Python, called Grail --
see <A HREF="http://grail.cnri.reston.va.us/grail">http://grail.cnri.reston.va.us/grail</A>/.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.029.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.029.htp">Log info</A>

/ Last changed on Wed May 21 12:29:28 1997 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="4.30">4.30. How do I run a subprocess with pipes connected to both input and output?</A></H2>
Use the standard popen2 module.  For example:
<P>
<PRE>
	import popen2
	fromchild, tochild = popen2.popen2("command")
	tochild.write("input\n")
	tochild.flush()
	output = fromchild.readline()
</PRE>
Warning: in general, it is unwise to
do this, because you can easily cause a deadlock where your
process is blocked waiting for output from the child, while the child
is blocked waiting for input from you.  This can be caused
because the parent expects the child to output more text than it does,
or it can be caused by data being stuck in stdio buffers due to lack
of flushing.  The Python parent can of course explicitly flush the data
it sends to the child before it reads any output, but if the child is
a naive C program it can easily have been written to never explicitly
flush its output, even if it is interactive, since flushing is
normally automatic.
<P>
Note on a bug in popen2: unless your program calls wait()
or waitpid(), finished child processes are never removed,
and eventually calls to popen2 will fail because of a limit on
the number of child processes.  Calling os.waitpid with the
os.WNOHANG option can prevent this; a good place to insert such
a call would be before calling popen2 again.
<P>
In many cases, all you really need is to run some data through a
command and get the result back.  Unless the data is infinite in size,
the easiest (and often the most efficient!) way to do this is to write
it to a temporary file and run the command with that temporary file as
input.  The standard module tempfile exports a function mktemp() which
generates unique temporary file names.
<P>
Note that many interactive programs (e.g. vi) don't work well with
pipes substituted for standard input and output.  You will have to use
pseudo ttys ("ptys") instead of pipes.  There is some undocumented
code to use these in the library module pty.py -- I'm afraid you're on
your own here.
<P>
A different answer is a Python interface to Don Libes' "expect"
library.  A Python extension that interfaces to expect is called "expy"
and available from
<A HREF="ftp://ftp.python.org/pub/python/contrib/System">ftp://ftp.python.org/pub/python/contrib/System</A>/.
<P>
A pure Python solution that works like expect is PIPE by John Croix.
A prerelease of PIPE is available from
<A HREF="ftp://ftp.python.org/pub/python/contrib/System">ftp://ftp.python.org/pub/python/contrib/System</A>/.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.030.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.030.htp">Log info</A>

/ Last changed on Fri Aug  8 16:15:58 1997 by
<A HREF="mailto:guido@python.org">Guido van Rossum</A>
<P>

<HR>
<H2><A NAME="4.31">4.31. How do I call a function if I have the arguments in a tuple?</A></H2>
Use the built-in function apply().  For instance,
<P>
<PRE>
    func(1, 2, 3)
</PRE>
is equivalent to
<P>
<PRE>
    args = (1, 2, 3)
    apply(func, args)
</PRE>
Note that func(args) is not the same -- it calls func() with exactly
one argument, the tuple args, instead of three arguments, the integers
1, 2 and 3.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.031.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.031.htp">Log info</A>
<P>

<HR>
<H2><A NAME="4.32">4.32. How do I enable font-lock-mode for Python in Emacs?</A></H2>
If you are using XEmacs 19.14 or later, any XEmacs 20, FSF Emacs 19.34
or any Emacs 20, font-lock should work automatically for you if you
are using the latest python-mode.el.
<P>
If you are using an older version of XEmacs or Emacs you will need 
to put this in your .emacs file:
<P>
<PRE>
        (defun my-python-mode-hook ()
          (setq font-lock-keywords python-font-lock-keywords)
          (font-lock-mode 1))
        (add-hook 'python-mode-hook 'my-python-mode-hook)
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.032.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.032.htp">Log info</A>

/ Last changed on Mon Apr  6 16:18:46 1998 by
<A HREF="mailto:bwarsaw@python.org">Barry Warsaw</A>
<P>

<HR>
<H2><A NAME="4.33">4.33. Is there a scanf() or sscanf() equivalent?</A></H2>
Not as such.
<P>
For simple input parsing, the easiest approach is usually to split
the line into whitespace-delimited words using string.split(), and to
convert decimal strings to numeric values using string.atoi(),
string.atol() or string.atof().  (Python's atoi() is 32-bit and its
atol() is arbitrary precision.)  If you want to use another delimiter
than whitespace, use string.splitfield() (possibly combining it with
string.strip() which removes surrounding whitespace from a string).
<P>
For more complicated input parsing, regular expressions (see module
regex) are better suited and more powerful than C's sscanf().
<P>
There's a contributed module that emulates sscanf(), by Steve Clift;
see contrib/Misc/sscanfmodule.c of the ftp site:
<P>
<PRE>
    <A HREF="http://www.python.org/ftp/python/contrib/Misc/sscanfmodule.c">http://www.python.org/ftp/python/contrib/Misc/sscanfmodule.c</A>
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.033.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.033.htp">Log info</A>

/ Last changed on Mon Jan 26 17:07:21 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="4.34">4.34. Can I have Tk events handled while waiting for I/O?</A></H2>
Yes, and you don't even need threads!  But you'll have to
restructure your I/O code a bit.  Tk has the equivalent of Xt's
XtAddInput() call, which allows you to register a callback function
which will be called from the Tk mainloop when I/O is possible on a
file descriptor.  Here's what you need:
<P>
<PRE>
        from Tkinter import tkinter
        tkinter.createfilehandler(file, mask, callback)
</PRE>
The file may be a Python file or socket object (actually, anything
with a fileno() method), or an integer file descriptor.  The mask is
one of the constants tkinter.READABLE or tkinter.WRITABLE.  The
callback is called as follows:
<P>
<PRE>
        callback(file, mask)
</PRE>
You must unregister the callback when you're done, using
<P>
<PRE>
        tkinter.deletefilehandler(file)
</PRE>
Note: since you don't know *how many bytes* are available for reading,
you can't use the Python file object's read or readline methods, since
these will insist on reading a predefined number of bytes.  For
sockets, the recv() or recvfrom() methods will work fine; for other
files, use os.read(file.fileno(), maxbytecount).
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.034.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.034.htp">Log info</A>
<P>

<HR>
<H2><A NAME="4.35">4.35. How do I write a function with output parameters (call by reference)?</A></H2>
[Mark Lutz] The thing to remember is that arguments are passed by
assignment in Python.  Since assignment just creates references to
objects, there's no alias between an argument name in the caller and
callee, and so no call-by-reference per se.  But you can simulate it
in a number of ways:
<P>
1) By using global variables; but you probably shouldn't :-)
<P>
2) By passing a mutable (changeable in-place) object:
<P>
<PRE>
      def func1(a):
          a[0] = 'new-value'     # 'a' references a mutable list
          a[1] = a[1] + 1        # changes a shared object
</PRE>
<PRE>
      args = ['old-value', 99]
      func1(args)
      print args[0], args[1]     # output: new-value 100
</PRE>
3) By returning a tuple, holding the final values of arguments:
<P>
<PRE>
      def func2(a, b):
          a = 'new-value'        # a and b are local names
          b = b + 1              # assigned to new objects
          return a, b            # return new values
</PRE>
<PRE>
      x, y = 'old-value', 99
      x, y = func2(x, y)
      print x, y                 # output: new-value 100
</PRE>
4) And other ideas that fall-out from Python's object model. For instance, it might be clearer to pass in a mutable dictionary:
<P>
<PRE>
      def func3(args):
          args['a'] = 'new-value'     # args is a mutable dictionary
          args['b'] = args['b'] + 1   # change it in-place
</PRE>
<PRE>
      args = {'a':' old-value', 'b': 99}
      func3(args)
      print args['a'], args['b']
</PRE>
5) Or bundle-up values in a class instance:
<P>
<PRE>
      class callByRef:
          def __init__(self, **args):
              for (key, value) in args.items():
                  setattr(self, key, value)
</PRE>
<PRE>
      def func4(args):
          args.a = 'new-value'        # args is a mutable callByRef
          args.b = args.b + 1         # change object in-place
</PRE>
<PRE>
      args = callByRef(a='old-value', b=99)
      func4(args)
      print args.a, args.b
</PRE>
<PRE>
   But there's probably no good reason to get this complicated :-).
</PRE>
[Python's author favors solution 3 in most cases.]
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.035.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.035.htp">Log info</A>

/ Last changed on Sun Jun  8 23:49:46 1997 by
<A HREF="mailto:david_ascher@brown.edu">David Ascher</A>
<P>

<HR>
<H2><A NAME="4.36">4.36. Please explain the rules for local and global variables in Python.</A></H2>
[Ken Manheimer] In Python, procedure variables are implicitly
global, unless they are assigned anywhere within the block.
In that case
they are implicitly local, and you need to explicitly declare them as
'global'.
<P>
Though a bit surprising at first, a moment's consideration explains
this.  On one hand, requirement of 'global' for assigned vars provides
a bar against unintended side-effects.  On the other hand, if global
were required for all global references, you'd be using global all the
time.  Eg, you'd have to declare as global every reference to a
builtin function, or to a component of an imported module.  This
clutter would defeat the usefulness of the 'global' declaration for
identifying side-effects.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.036.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.036.htp">Log info</A>

/ Last changed on Fri Aug 28 09:53:27 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="4.37">4.37. How can I have modules that mutually import each other?</A></H2>
Jim Roskind recommends the following order in each module:
<P>
First: all exports (like globals, functions, and classes that don't
need imported base classes).
<P>
Then: all import statements.
<P>
Finally: all active code (including globals that are initialized from
imported values).
<P>
Python's author doesn't like this approach much because the imports
appear in a strange place, but has to admit that it works.  His
recommended strategy is to avoid all uses of "from &lt;module&gt; import *"
(so everything from an imported module is referenced as
&lt;module&gt;.&lt;name&gt;) and to place all code inside functions.
Initializations of global variables and class variables should use
constants or built-in functions only.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.037.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.037.htp">Log info</A>

/ Last changed on Sat May 24 01:27:01 1997 by
<A HREF="mailto:manus@evolving.com">Manus Hand</A>
<P>

<HR>
<H2><A NAME="4.38">4.38. How do I copy an object in Python?</A></H2>
There is no generic copying operation built into Python, however
most object types have some way to create a clone.  Here's how for the
most common objects:
<P>
For immutable objects (numbers, strings, tuples), cloning is
unnecessary since their value can't change.
For lists (and generally for mutable sequence types), a clone is
created by the expression l[:].
For dictionaries, the following function returns a clone:
<P>
<PRE>
        def dictclone(o):
            n = {}
            for k in o.keys(): n[k] = o[k]
            return n
</PRE>
Finally, for generic objects, the "copy" module defines two
functions for copying objects.  copy.copy(x) returns a copy as shown
by the above rules.  copy.deepcopy(x) also copies the elements of
composite objects.  See the section on this module in the Library
Reference Manual.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.038.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.038.htp">Log info</A>
<P>

<HR>
<H2><A NAME="4.39">4.39. How to implement persistent objects in Python? (Persistent == automatically saved to and restored from disk.)</A></H2>
The library module "pickle" now solves this in a very general way
(though you still can't store things like open files, sockets or
windows), and the library module "shelve" uses pickle and (g)dbm to
create persistent mappings containing arbitrary Python objects.
For possibly better performance also look for the latest version
of the relatively recent cPickle module.
<P>
A more awkward way of doing things is to use pickle's little sister,
marshal.  The marshal module provides very fast ways to store
noncircular basic Python types to files and strings, and back again.
Although marshal does not do fancy things like store instances or
handle shared references properly, it does run extremely fast.  For
example loading a half megabyte of data may take less than a
third of a second (on some machines).  This often beats doing
something more complex and general such as using gdbm with
pickle/shelve.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.039.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.039.htp">Log info</A>

/ Last changed on Sun Jun  8 22:59:00 1997 by
<A HREF="mailto:david_ascher@brown.edu">David Ascher</A>
<P>

<HR>
<H2><A NAME="4.40">4.40. I try to use __spam and I get an error about _SomeClassName__spam.</A></H2>
Variables with double leading underscore are "mangled" to provide a
simple but effective way to define class private variables.  See the
chapter "New in Release 1.4" in the Python Tutorial.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.040.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.040.htp">Log info</A>
<P>

<HR>
<H2><A NAME="4.41">4.41. How do I delete a file? And other file questions.</A></H2>
Use os.remove(filename) or os.unlink(filename); for documentation,
see the posix section of the library manual.  They are the same,
unlink() is simply the Unix name for this function.  In earlier
versions of Python, only os.unlink() was available.
<P>
To remove a directory, use os.rmdir(); use os.mkdir() to create one.
<P>
To rename a file, use os.rename().
<P>
To truncate a file, open it using f = open(filename, "r+"), and use
f.truncate(offset); offset defaults to the current seek position.
(The "r+" mode opens the file for reading and writing.)
There's also os.ftruncate(fd, offset) for files opened with os.open()
-- for advanced Unix hacks only.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.041.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.041.htp">Log info</A>

/ Last changed on Wed Jul 29 16:56:38 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="4.42">4.42. How to modify urllib or httplib to support HTTP/1.1?</A></H2>
Apply the following patch to the vanilla Python 1.4 httplib.py:
<P>
<PRE>
  41c41
  &lt; replypat = regsub.gsub('\\.', '\\\\.', HTTP_VERSION) + \
  ---
  &gt; replypat = regsub.gsub('\\.', '\\\\.', 'HTTP/1.[0-9]+') + \
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.042.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.042.htp">Log info</A>

/ Last changed on Wed May 21 15:55:39 1997 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="4.43">4.43. Unexplicable syntax errors in compile() or exec.</A></H2>
When a statement suite (as opposed to an expression) is compiled by
compile(), exec or execfile(), it <I>must</I> end in a newline.  In some
cases, when the source ends in an indented block it appears that at
least two newlines are required.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.043.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.043.htp">Log info</A>
<P>

<HR>
<H2><A NAME="4.44">4.44. How do I convert a string to a number?</A></H2>
For integers, use the built-in int() function, e.g. int('144') == 144.  Similarly, long() converts from string to long integer, e.g. long('144') == 144L; and float() to floating-point, e.g. float('144') == 144.0.
<P>
Note that these are restricted to decimal interpretation, so that int('0144') == 144 and int('0x144') raises ValueError.
<P>
For greater flexibility, or before Python 1.5, import the module string and use the string.atoi() function for integers, string.atol() for long integers, or string.atof() for floating-point.  E.g., string.atoi('100', 16) == string.atoi('0x100', 0) == 256.  See the library reference manual section for the string module for more details.
<P>
While you could use the built-in function eval() instead of
any of those, this is not recommended, because someone could pass you
a Python expression that might have unwanted side effects (like
reformatting your disk).
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.044.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.044.htp">Log info</A>

/ Last changed on Sun Jun 14 14:04:50 1998 by
<A HREF="mailto:tim_one@email.msn.com">Tim Peters</A>
<P>

<HR>
<H2><A NAME="4.45">4.45. How do I convert a number to a string?</A></H2>
To convert, e.g., the number 144 to the string '144', use the
built-in function repr() or the backquote notation (these are
equivalent).  If you want a hexadecimal or octal representation, use
the built-in functions hex() or oct(), respectively.  For fancy
formatting, use the % operator on strings, just like C printf formats,
e.g. "%04d" % 144 yields '0144' and "%.3f" % (1/3.0) yields '0.333'.
See the library reference manual for details.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.045.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.045.htp">Log info</A>
<P>

<HR>
<H2><A NAME="4.46">4.46. How do I copy a file?</A></H2>
Most of the time this will do:
<P>
<PRE>
   infile = open("file.in", "rb")
   outfile = open("file.out", "wb")
   outfile.write(infile.read())
</PRE>
However for huge files you may want to do the
reads/writes in pieces (or you may have to), and
if you dig deeper you may find other technical
problems.
<P>
Unfortunately, there's no totally platform independent answer.
On Unix, you can use os.system() to invoke the "cp" command
(see your Unix manual for how it's invoked).
On DOS or Windows, use os.system() to invoke the "COPY" command.
On the Mac, use macostools.copy(srcpath, dstpath). It will also 
copy the resource fork and Finder info.
<P>
There's also the shutil module which contains a copyfile()
function that implements the copy loop; but in Python 1.4 and
earlier it opens files in text mode, and even in Python 1.5
it still isn't good enough for the Macintosh:
it doesn't copy the resource fork and Finder info.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.046.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.046.htp">Log info</A>

/ Last changed on Sat May 24 17:35:28 1997 by
<A HREF="mailto:just@knoware.nl">Just van Rossum</A>
<P>

<HR>
<H2><A NAME="4.47">4.47. How do I check if an object is an instance of a given class or of a subclass of it?</A></H2>
If you are developing the classes from scratch it might be better to
program in a more proper object-oriented style -- instead of doing a different
thing based on class membership, why not use a method and define the
method differently in different classes?
<P>
However, there are some legitimate situations
where you need to test for class membership.
<P>
In Python 1.5, you can use the built-in function isinstance(obj, cls).
<P>
The following approaches can be used with earlier Python versions:
<P>
An unobvious method is to raise the object
as an exception and to try to catch the exception with the class you're
testing for:
<P>
<PRE>
	def is_instance_of(the_instance, the_class):
	    try:
		raise the_instance
	    except the_class:
		return 1
	    except:
		return 0
</PRE>
This technique can be used to distinguish "subclassness"
from a collection of classes as well
<P>
<PRE>
                try:
                              raise the_instance
                except Audible:
                              the_instance.play(largo)
                except Visual:
                              the_instance.display(gaudy)
                except Olfactory:
                              sniff(the_instance)
                except:
                              raise ValueError, "dunno what to do with this!"
</PRE>
This uses the fact that exception catching tests for class or subclass
membership.
<P>
A different approach is to test for the presence of a class attribute that
is presumably unique for the given class.  For instance:
<P>
<PRE>
	class MyClass:
	    ThisIsMyClass = 1
	    ...
</PRE>
<PRE>
	def is_a_MyClass(the_instance):
	    return hasattr(the_instance, 'ThisIsMyClass')
</PRE>
This version is easier to inline, and probably faster (inlined it
is definitely faster).  The disadvantage is that someone else could cheat:
<P>
<PRE>
	class IntruderClass:
	    ThisIsMyClass = 1    # Masquerade as MyClass
	    ...
</PRE>
but this may be seen as a feature (anyway, there are plenty of other ways
to cheat in Python).  Another disadvantage is that the class must be
prepared for the membership test.  If you do not "control the
source code" for the class it may not be advisable to modify the
class to support testability.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.047.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.047.htp">Log info</A>

/ Last changed on Fri Jan  2 15:16:04 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="4.48">4.48. What is delegation?</A></H2>
Delegation refers to an object oriented technique Python programmers
may implement with particular ease.  Consider the following:
<P>
<PRE>
  from string import upper
</PRE>
<PRE>
  class UpperOut:
        def __init__(self, outfile):
              self.__outfile = outfile
        def write(self, str):
              self.__outfile.write( upper(str) )
        def __getattr__(self, name):
              return getattr(self.__outfile, name)
</PRE>
Here the UpperOut class redefines the write method
to convert the argument string to upper case before
calling the underlying self.__outfile.write method, but
all other methods are delegated to the underlying 
self.__outfile object.  The delegation is accomplished
via the "magic" __getattr__ method.  Please see the
language reference for more information on the use
of this method.
<P>
Note that for more general cases delegation can
get trickier. Particularly when attributes must be set
as well as gotten the class must define a __settattr__
method too, and it must do so carefully.
<P>
The basic implementation of __setattr__ is roughly
equivalent to the following:
<P>
<PRE>
   class X:
        ...
        def __setattr__(self, name, value):
             self.__dict__[name] = value
        ...
</PRE>
Most __setattr__ implementations must modify
self.__dict__ to store local state for self without
causing an infinite recursion.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.048.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.048.htp">Log info</A>

/ Last changed on Wed Aug 13 07:11:24 1997 by
<A HREF="mailto:aaron_watters@msn.com">aaron watters</A>
<P>

<HR>
<H2><A NAME="4.49">4.49. How do I test a Python program or component.</A></H2>
First, it helps to write the program so that it may be easily
tested by using good modular design.  In particular your program
should have almost all functionality encapsulated in either functions
or class methods -- and this sometimes has the surprising and
delightful effect of making the program run faster (because
local variable accesses are faster than global accesses).
Furthermore the program should avoid depending on mutating
global variables, since this makes testing much more difficult to do.
<P>
The "global main logic" of your program may be as simple
as
<P>
<PRE>
  if __name__=="__main__":
       main_logic()
</PRE>
at the bottom of the main module of your program.
<P>
Once your program is organized as a tractible collection
of functions and class behaviours you should write test
functions that exercise the behaviours.  A test suite 
can be associated with each module which automates
a sequence of tests.  This sounds like a lot of work, but
since Python is so terse and flexible it's surprisingly easy.
You can make coding much more pleasant and fun by
writing your test functions in parallel with the "production
code", since this makes it easy to find bugs and even
design flaws earlier.
<P>
"Support modules" that are not intended to be the main
module of a program may include a "test script interpretation"
which invokes a self test of the module.
<P>
<PRE>
   if __name__ == "__main__":
      self_test()
</PRE>
Even programs that interact with complex external
interfaces may be tested when the external interfaces are
unavailable by using "fake" interfaces implemented in
Python.  For an example of a "fake" interface, the following
class defines (part of) a "fake" file interface:
<P>
<PRE>
 import string
 testdata = "just a random sequence of characters"
</PRE>
<PRE>
 class FakeInputFile:
   data = testdata
   position = 0
   closed = 0
</PRE>
<PRE>
   def read(self, n=None):
       self.testclosed()
       p = self.position
       if n is None:
          result= self.data[p:]
       else:
          result= self.data[p: p+n]
       self.position = p + len(result)
       return result
</PRE>
<PRE>
   def seek(self, n, m=0):
       self.testclosed()
       last = len(self.data)
       p = self.position
       if m==0: 
          final=n
       elif m==1:
          final=n+p
       elif m==2:
          final=len(self.data)+n
       else:
          raise ValueError, "bad m"
       if final&lt;0:
          raise IOError, "negative seek"
       self.position = final
</PRE>
<PRE>
   def isatty(self):
       return 0
</PRE>
<PRE>
   def tell(self):
       return self.position
</PRE>
<PRE>
   def close(self):
       self.closed = 1
</PRE>
<PRE>
   def testclosed(self):
       if self.closed:
          raise IOError, "file closed"
</PRE>
Try f=FakeInputFile() and test out its operations.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.049.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.049.htp">Log info</A>

/ Last changed on Sat May 24 14:59:57 1997 by
<A HREF="mailto:aaron_watters@msn.com">Aaron Watters</A>
<P>

<HR>
<H2><A NAME="4.50">4.50. My multidimensional list (array) is broken! What gives?</A></H2>
You probably tried to make a multidimensional array like this.
<P>
<PRE>
   A = [[None] * 2] * 3
</PRE>
This makes a list containing 3 references to the same list of length
two.  Changes to one row will show in all rows, which is probably not
what you want.  The following works much better:
<P>
<PRE>
   A = [None]*3
   for i in range(3):
        A[i] = [None] * 2
</PRE>
This generates a list containing 3 different lists of length two.
<P>
If you feel weird, you can also do it in the following way:
<P>
<PRE>
   w, h = 2, 3
   A = map(lambda i,w=w: [None] * w, range(h))
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.050.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.050.htp">Log info</A>

/ Last changed on Mon May 26 06:18:05 1997 by
<A HREF="mailto:fredrik.lundh@image.combitech.se">Fredrik Lundh</A>
<P>

<HR>
<H2><A NAME="4.51">4.51. I want to do a complicated sort: can you do a Schwartzian Transform in Python?</A></H2>
Yes, and in Python you only have to write it once:
<P>
<PRE>
 def st(List, Metric):
     def pairing(element, M = Metric):
           return (M(element), element)
     paired = map(pairing, List)
     paired.sort()
     return map(stripit, paired)
</PRE>
<PRE>
 def stripit(pair):
     return pair[1]
</PRE>
This technique, attributed to Randal Schwartz, sorts the elements
of a list by a metric which maps each element to its "sort value".
For example, if L is a list of string then
<P>
<PRE>
   import string
   Usorted = st(L, string.upper)
</PRE>
<PRE>
   def intfield(s):
         return string.atoi( string.strip(s[10:15] ) )
</PRE>
<PRE>
   Isorted = st(L, intfield)
</PRE>
Usorted gives the elements of L sorted as if they were upper
case, and Isorted gives the elements of L sorted by the integer
values that appear in the string slices starting at position 10
and ending at position 15.  Note that Isorted may also be computed by
<P>
<PRE>
   def Icmp(s1, s2):
         return cmp( intfield(s1), intfield(s2) )
</PRE>
<PRE>
   Isorted = L[:]
   Isorted.sort(Icmp)
</PRE>
but since this method computes intfield many times for each
element of L, it is slower than the Schwartzian Transform.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.051.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.051.htp">Log info</A>

/ Last changed on Fri Sep 12 13:32:26 1997 by
<A HREF="mailto:klm@python.org">Ken Manheimer</A>
<P>

<HR>
<H2><A NAME="4.52">4.52. How to convert between tuples and lists?</A></H2>
The function tuple(seq) converts any sequence into a tuple with
the same items in the same order.
For example, tuple([1, 2, 3]) yields (1, 2, 3) and tuple('abc')
yields ('a', 'b', 'c').  If the argument is
a tuple, it does not make a copy but returns the same object, so
it is cheap to call tuple() when you aren't sure that an object
is already a tuple.
<P>
The function list(seq) converts any sequence into a list with
the same items in the same order.
For example, list((1, 2, 3)) yields [1, 2, 3] and list('abc')
yields ['a', 'b', 'c'].  If the argument is a list,
it makes a copy just like seq[:] would.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.052.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.052.htp">Log info</A>

/ Last changed on Sun Jun 14 14:18:53 1998 by
<A HREF="mailto:tim_one@email.msn.com">Tim Peters</A>
<P>

<HR>
<H2><A NAME="4.53">4.53. Files retrieved with urllib contain leading garbage that looks like email headers.</A></H2>
The server is using HTTP/1.1; the vanilla httplib in Python 1.4
only recognizes HTTP/1.0.  See question 4.42 for a patch.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.053.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.053.htp">Log info</A>

/ Last changed on Mon May 26 13:57:03 1997 by
<A HREF="mailto:guido@cnri.reston.va.us">GvR</A>
<P>

<HR>
<H2><A NAME="4.54">4.54. How do I get a list of all instances of a given class?</A></H2>
Python does not keep track of all instances of a class (or of a
built-in type).
<P>
You can program the class's constructor to keep track of all
instances, but unless you're very clever, this has the disadvantage
that the instances never get deleted,because your list of all
instances keeps a reference to them.
<P>
(The trick is to regularly inspect the reference counts of the
instances you've retained, and if the reference count is below a
certain level, remove it from the list.  Determining that level is
tricky -- it's definitely larger than 1.)
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.054.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.054.htp">Log info</A>

/ Last changed on Tue May 27 23:52:16 1997 by
<A HREF="mailto:guido@cnri.reston.va.us">GvR</A>
<P>

<HR>
<H2><A NAME="4.55">4.55. A regular expression fails with regex.error: match failure.</A></H2>
This is usually caused by too much backtracking; the regular
expression engine has a fixed size stack which holds at most 4000
backtrack points.  Every character matched by e.g. ".*" accounts for a
backtrack point, so even a simple search like
<P>
<PRE>
  regex.match('.*x',"x"*5000)
</PRE>
will fail.
<P>
This is fixed in the re module introduced with 
Python 1.5; consult the Library Reference section on re for more information.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.055.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.055.htp">Log info</A>

/ Last changed on Thu Jul 30 12:35:49 1998 by
<A HREF="mailto:akuchlin@cnri.reston.va.us">A.M. Kuchling</A>
<P>

<HR>
<H2><A NAME="4.56">4.56. I can't get signal handlers to work.</A></H2>
The most common problem is that the signal handler is declared
with the wrong argument list.  It is called as
<P>
<PRE>
	handler(signum, frame)
</PRE>
so it should be declared with two arguments:
<P>
<PRE>
	def handler(signum, frame):
		...
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.056.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.056.htp">Log info</A>

/ Last changed on Wed May 28 09:29:08 1997 by
<A HREF="mailto:guido@cnri.reston.va.us">GvR</A>
<P>

<HR>
<H2><A NAME="4.57">4.57. I can't use a global variable in a function? Help!</A></H2>
Did you do something like this?
<P>
<PRE>
   x = 1 # make a global
</PRE>
<PRE>
   def f():
         print x # try to print the global
         ...
         for j in range(100):
              if q>3:
                 x=4
</PRE>
If you did, all references to x in f are local, not global
by virtue of the "x=4" assignment.  Any variable
assigned in a function is local to that function unless
it is declared global.  Consequently the "print x"
attempts to print an uninitialized local variable and will
trigger a NameError.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.057.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.057.htp">Log info</A>

/ Last changed on Wed Aug 13 07:04:40 1997 by
<A HREF="mailto:aaron_watters@msn.com">aaron watters</A>
<P>

<HR>
<H2><A NAME="4.58">4.58. What's a negative index? Why doesn't list.insert() use them?</A></H2>
Python sequences are indexed with positive numbers and
negative numbers.  For positive numbers 0 is the first index
1 is the second index and so forth.  For negative indices -1
is the last index and -2 is the pentultimate (next to last) index
and so forth.  Think of seq[-n] as the same as seq[len(seq)-n].
<P>
Using negative indices can be very convenient.  For example
if the string Line ends in a newline then Line[:-1] is all of Line except
the newline.
<P>
Sadly the list builtin method L.insert does not observe negative
indices.  This feature could be considered a mistake but since
existing programs depend on this feature it may stay around 
forever.  L.insert for negative indices inserts at the start of the
list.  To get "proper" negative index behaviour use L[n:n] = [x]
in place of the insert method.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.058.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.058.htp">Log info</A>

/ Last changed on Wed Aug 13 07:03:18 1997 by
<A HREF="mailto:aaron_watters@msn.com">aaron watters</A>
<P>

<HR>
<H2><A NAME="4.59">4.59. How can I sort one list by values from another list?</A></H2>
You can sort lists of  tuples.
<P>
<PRE>
  >>> list1 = ["what", "I'm", "sorting", "by"]
  >>> list2 = ["something", "else", "to", "sort"]
  >>> pairs = map(None, list1, list2)
  >>> pairs
  [('what', 'something'), ("I'm", 'else'), ('sorting', 'to'), ('by', 'sort')]
  >>> pairs.sort()
  >>> pairs
  [("I'm", 'else'), ('by', 'sort'), ('sorting', 'to'), ('what', 'something')]
  >>> result = pairs[:]
  >>> for i in xrange(len(result)): result[i] = result[i][1]
  ...
  >>> result
  ['else', 'sort', 'to', 'something']
</PRE>
And if you didn't understand the question, please see the
example above ;c).  Note that "I'm" sorts before "by" because
uppercase "I" comes before lowercase "b" in the ascii order.
Also see 4.51.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.059.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.059.htp">Log info</A>

/ Last changed on Mon Jul 28 10:51:47 1997 by
<A HREF="mailto:aaron_watters@msn.com">aaron watters</A>
<P>

<HR>
<H2><A NAME="4.60">4.60. Why doesn't dir() work on builtin types like files and lists?</A></H2>
It should have -- and it does starting with Python 1.5
(currently in development -- see Questions 1.13 and 2.10).
<P>
Using 1.4, you can find out which methods a given object supports
by looking at its __methods__ attribute:
<P>
<PRE>
    >>> List = []
    >>> List.__methods__
    ['append', 'count', 'index', 'insert', 'remove', 'reverse', 'sort']
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.060.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.060.htp">Log info</A>

/ Last changed on Sun Jun  8 23:43:10 1997 by
<A HREF="mailto:david_ascher@brown.edu">David Ascher</A>
<P>

<HR>
<H2><A NAME="4.61">4.61. How can I mimic CGI form submission (METHOD=POST)?</A></H2>
I would like to retrieve web pages that are the result of POSTing a
form. Is there existing code that would let me do this easily?
<P>
Yes. Here's a simple example that uses httplib.  
<P>
<PRE>
    #!/usr/local/bin/python
</PRE>
<PRE>
    import httplib, sys, time
</PRE>
<PRE>
    ### build the query string
    qs = "First=Josephine&amp;MI=Q&amp;Last=Public"
</PRE>
<PRE>
    ### connect and send the server a path
    httpobj = httplib.HTTP('www.some-server.out-there', 80)
    httpobj.putrequest('POST', '/cgi-bin/some-cgi-script')
    ### now generate the rest of the HTTP headers...
    httpobj.putheader('Accept', */*')
    httpobj.putheader('Connection', 'Keep-Alive')
    httpobj.putheader('Content-type', 'application/x-www-form-urlencoded')
    httpobj.putheader('Content-length', '%d' % len(qs))
    httpobj.endheaders()
    httpobj.send(qs)
    ### find out what the server said in response...
    reply, msg, hdrs = httpobj.getreply()
    if reply != 200:
	sys.stdout.write(httpobj.getfile().read())
</PRE>
Note that in general for "url encoded posts" (the default) query strings must be "quoted" to, for example, change equals signs and spaces to an encoded form when they occur in name or value.  Use urllib.quote to perform this quoting.  For example to send name="Guy Steele, Jr.":
<P>
<PRE>
   >>> from urllib import quote
   >>> x = quote("Guy Steele, Jr.")
   >>> x
   'Guy%20Steele,%20Jr.'
   >>> query_string = "name="+x
   >>> query_string
   'name=Guy%20Steele,%20Jr.'
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.061.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.061.htp">Log info</A>

/ Last changed on Wed Oct  1 14:40:09 1997 by
<A HREF="mailto:aaron_watters@msn.com">aaron watters</A>
<P>

<HR>
<H2><A NAME="4.62">4.62. If my program crashes with a bsddb (or anydbm) database open, it gets corrupted. How come?</A></H2>
Databases opened for write access with the bsddb module (and often by
the anydbm module, since it will preferentially use bsddb) must
explcitly be closed using the close method of the database.  The
underlying libdb package caches database contents which need to be
converted to on-disk form and written, unlike regular open files which
already have the on-disk bits in the kernel's write buffer, where they
can just be dumped by the kernel with the program exits.
<P>
If you have initialized a new bsddb database but not written anything to
it before the program crashes, you will often wind up with a zero-length
file and encounter an exception the next time the file is opened.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.062.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.062.htp">Log info</A>

/ Last changed on Thu Aug 21 08:57:14 1997 by
<A HREF="mailto:skip@calendar.com">Skip Montanaro</A>
<P>

<HR>
<H2><A NAME="4.63">4.63. How do I make a Python script executable on Unix?</A></H2>
You need to do two things: the script file's mode must be executable
(include the 'x' bit), and the first line must begin with #!
followed by the pathname for the Python interpreter.
<P>
The first is done by executing 'chmod +x scriptfile' or perhaps
'chmod 755 scriptfile'.
<P>
The second can be done in a number of way.  The most straightforward
way is to write
<P>
<PRE>
  #!/usr/local/bin/python
</PRE>
as the very first ine of your file - or whatever the pathname is
where the python interpreter is installed on your platform.
<P>
If you would like the script to be independent of where the python
interpreter lives, you can use the "env" program.  On almost all
platforms, the following woll work, assuming the python interpreter
is in a directory on the user's $PATH:
<P>
<PRE>
  #! /usr/bin/env python
</PRE>
Note -- *don't* do this for CGI scripts.  The $PATH variable for
CGI scripts is often very minimal, so you need to use the actual
absolute pathname of the interpreter.
<P>
Occasionally, a user's environment is so full that the /usr/bin/env
program fails; or there's no env program at all.
In that case, you can try the following hack (due to Alex Rezinsky):
<P>
<PRE>
  #! /bin/sh
  """:"
  exec python $0 ${1+"$@"}
  """
</PRE>
The disadvantage is that this defines the script's __doc__ string.
However, you can fix that by adding
<P>
<PRE>
  __doc__ = """...Whatever..."""
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.063.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.063.htp">Log info</A>

/ Last changed on Tue Dec 16 19:04:20 1997 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="4.64">4.64. How do you remove duplicates from a list?</A></H2>
Generally, if you don't mind reordering the List
<P>
<PRE>
   if List:
      List.sort()
      last = List[-1]
      for i in range(len(List)-2, -1, -1):
          if last==List[i]: del List[i]
          else: last=List[i]
</PRE>
If all elements of the list may be used as
dictionary keys (ie, they are all hashable)
this is often faster
<P>
<PRE>
   d = {}
   for x in List: d[x]=x
   List = d.values()
</PRE>
Also, for extremely large lists you might
consider more optimal alternatives to the first one.
The second one is pretty good whenever it can
be used.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.064.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.064.htp">Log info</A>

/ Last changed on Fri Dec 19 09:48:16 1997 by
<A HREF="mailto:arw@cs.rutgers.edu">aaron watters</A>
<P>

<HR>
<H2><A NAME="4.65">4.65. Are there any known year 2000 problems in Python?</A></H2>
I am not aware of year 2000 deficiencies in Python 1.5.  Python does
very few date calculations and for what it does, it relies on the C
library functions.  Python generally represent times either as seconds
since 1970 or as a tuple (year, month, day, ...) where the year is
expressed with four digits, which makes Y2K bugs unlikely.  So as long
as your C library is okay, Python should be okay.  Of course, I cannot
vouch for <I>your</I> Python code!
<P>
Given the nature of freely available software, I have to add that this statement is not
legally binding.  The Python copyright notice contains the following
disclaimer:
<P>
<PRE>
  STICHTING MATHEMATISCH CENTRUM AND CNRI DISCLAIM ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE, INCLUDING ALL IMPLIED WARRANTIES OF
  MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL STICHTING MATHEMATISCH
  CENTRUM OR CNRI BE LIABLE FOR ANY SPECIAL, INDIRECT OR CONSEQUENTIAL
  DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR
  PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
  TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
</PRE>
The good news is that <I>if</I> you encounter a problem, you have full
source available to track it down and fix it!
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.065.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.065.htp">Log info</A>

/ Last changed on Fri Apr 10 14:59:31 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="4.66">4.66. I want a version of map that applies a method to a sequence of objects! Help!</A></H2>
Get fancy!
<P>
<PRE>
  def method_map(objects, method, arguments):
       """method_map([a,b], "flog", (1,2)) gives [a.flog(1,2), b.flog(1,2)]"""
       nobjects = len(objects)
       methods = map(getattr, objects, [method]*nobjects)
       return map(apply, methods, [arguments]*nobjects)
</PRE>
It's generally a good idea to get to know the mysteries of map and apply
and getattr and the other dynamic features of Python.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.066.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.066.htp">Log info</A>

/ Last changed on Mon Jan  5 14:21:14 1998 by
<A HREF="mailto:aaron_watters@msn.com">Aaron Watters</A>
<P>

<HR>
<H2><A NAME="4.67">4.67. How do I generate random numbers in Python?</A></H2>
The standard library module "whrandom" implements a random number
generator.  Usage is simple:
<P>
<PRE>
    import whrandom
</PRE>
<PRE>
    whrandom.random()
</PRE>
This returns a random floating point number in the range [0, 1).
<P>
There are also other specialized generators in this module:
<P>
<PRE>
    randint(a, b) chooses an integer in the range [a, b)
    choice(S) chooses from a given sequence
    uniform(a, b) chooses a floating point number in the range [a, b)
</PRE>
To force the random number generator's initial setting, use
<P>
<PRE>
    seed(x, y, z) set the seed from three integers in [1, 256)
</PRE>
There's also a class, whrandom, whoch you can instantiate
to create independent multiple random number generators.
<P>
The module "random" contains functions that approximate various
standard distributions.
<P>
All this is documented in the library reference manual.  Note that
the module "rand" is obsolete.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.067.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.067.htp">Log info</A>

/ Last changed on Sun Jan 11 14:25:18 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="4.68">4.68. How do I access the serial (RS232) port?</A></H2>
There's a Windows serial communication module (for communication
over RS 232 serial ports) at
<P>
<PRE>
  <A HREF="http://www.python.org/ftp/python/contrib/System/siomodule.README">http://www.python.org/ftp/python/contrib/System/siomodule.README</A>
  <A HREF="http://www.python.org/ftp/python/contrib/System/siomodule.zip">http://www.python.org/ftp/python/contrib/System/siomodule.zip</A>
</PRE>
For DOS, try Hans Nowak's Python-DX, which supports this, at:
<P>
<PRE>
  <A HREF="http://www.cuci.nl/~hnowak">http://www.cuci.nl/~hnowak</A>/
</PRE>
For Unix, search Deja News (using <A HREF="http://www.python.org/locator">http://www.python.org/locator</A>/)
for "serial port" with author Mitch Chapman
(his post is a little too long to include here).
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.068.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.068.htp">Log info</A>

/ Last changed on Mon Feb 22 17:17:30 1999 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="4.69">4.69. Images on Tk-Buttons don't work in Py15?</A></H2>
They <I>do</I> work, but you must keep your own <I>reference</I> to the image 
object now. More verbosely, you must make sure that, say, a global 
variable or a class attribute refers to the object.
<P>
Quoting Fredrik Lundh from the mailinglist:
<P>
<PRE>
  Well, the Tk button widget keeps a reference to the internal
  photoimage object, but Tkinter does not.  So when the last
  Python reference goes away, Tkinter tells Tk to release the
  photoimage.  But since the image is in use by a widget, Tk
  doesn't destroy it.  Not completely.  It just blanks the image,
  making it completely transparent...
</PRE>
<PRE>
  And yes, there was a bug in the keyword argument handling
  in 1.4 that kept an extra reference around in some cases.  And
  when Guido fixed that bug in 1.5, he broke quite a few Tkinter
  programs...
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.069.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.069.htp">Log info</A>

/ Last changed on Tue Feb  3 11:31:03 1998 by
<A HREF="mailto:cjr@euronet.nl">Case Roole</A>
<P>

<HR>
<H2><A NAME="4.70">4.70. Where is the math.py (socket.py, regex.py, etc.) source file?</A></H2>
If you can't find a source file for a module it may be a builtin
or dynamically loaded module implemented in C, C++ or other
compiled language.  In this case you may not have the source
file or it may be something like mathmodule.c, somewhere in
a C source directory (not on the Python Path).
<P>
Fredrik Lundh (<A HREF="mailto:fredrik@pythonware.com">fredrik@pythonware.com</A>) explains (on the python-list):
<P>
There are (at least) three kinds of modules in Python:
1) modules written in Python (.py);
2) modules written in C and dynamically loaded (.dll, .pyd, .so, .sl, etc);
3) modules written in C and linked with the interpreter; to get a list
of these, type:
<P>
<PRE>
    import sys
    print sys.builtin_module_names
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.070.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.070.htp">Log info</A>

/ Last changed on Tue Feb  3 13:55:33 1998 by
<A HREF="mailto:aaron_watters@msn.com">Aaron Watters</A>
<P>

<HR>
<H2><A NAME="4.71">4.71. How do I send mail from a Python script?</A></H2>
On Unix, it's very simple, using sendmail.  The location of the
sendmail program varies between systems; sometimes it is
/usr/lib/sendmail, sometime /usr/sbin/sendmail.  The sendmail manual
page will help you out.  Here's some sample code:
<P>
<PRE>
  SENDMAIL = "/usr/sbin/sendmail" # sendmail location
  import os
  p = os.popen("%s -t" % SENDMAIL, "w")
  p.write("To: <A HREF="mailto:cary@ratatosk.org">cary@ratatosk.org</A>\n")
  p.write("Subject: test\n")
  p.write("\n") # blank line separating headers from body
  p.write("Some text\n")
  p.write("some more text\n")
  sts = p.close()
  if sts != 0:
      print "Sendmail exit status", sts
</PRE>
On non-Unix systems (and on Unix systems too, of course!),
you can use SMTP to send mail to a nearby
mail server.  A library for SMTP (smtplib.py) is included
in Python 1.5.1; in 1.5.2 it will be documented and extended.
Here's a very simple interactive mail sender that uses it:
<P>
<PRE>
    import sys, smtplib
</PRE>
<PRE>
    fromaddr = raw_input("From: ")
    toaddrs  = string.splitfields(raw_input("To: "), ',')
    print "Enter message, end with ^D:"
    msg = ''
    while 1:
        line = sys.stdin.readline()
        if not line:
            break
        msg = msg + line
</PRE>
<PRE>
    # The actual mail send
    server = smtplib.SMTP('localhost')
    server.sendmail(fromaddr, toaddrs, msg)
    server.quit()
</PRE>
This method will work on any host that supports an SMTP listener;
otherwise, you will have to ask the user for a host.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.071.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.071.htp">Log info</A>

/ Last changed on Wed Jul  1 17:59:35 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="4.72">4.72. How do I avoid blocking in connect() of a socket?</A></H2>
The select module is widely known to help with asynchronous
I/O on sockets once they are connected.  However, it is less
than common knowledge how to avoid blocking on the initial
connect() call.  Jeremy Hylton has the following advice (slightly
edited):
<P>
To prevent the TCP connect from blocking, you can set the socket to 
non-blocking mode.  Then when you do the connect(), you will either 
connect immediately (unlikely) or get an exception that contains the 
errno.  errno.EINPROGRESS indicates that the connection is in 
progress, but hasn't finished yet.  Different OSes will return 
different errnos, so you're going to have to check.  I can tell you 
that different versions of Solaris return different errno values. 
<P>
In Python 1.5 and later, you can use connect_ex() to avoid
creating an exception.  It will just return the errno value. 
<P>
To poll, you can call connect_ex() again later -- 0 or errno.EISCONN 
indicate that you're connected -- or you can pass this socket to 
select (checking to see if it is writeable).
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.072.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.072.htp">Log info</A>

/ Last changed on Tue Feb 24 21:30:45 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="4.73">4.73. How do I specify hexadecimal and octal integers?</A></H2>
To specify an octal digit, precede the octal value with a zero.  For example,
to set the variable "a" to the octal value "10" (8 in decimal), type:
<P>
<PRE>
    >>> a = 010
</PRE>
To verify that this works, you can type "a" and hit enter while in the
interpreter, which will cause Python to spit out the current value of "a"
in decimal:
<P>
<PRE>
    >>> a
    8
</PRE>
Hexadecimal is just as easy.  Simply precede the hexadecimal number with a
zero, and then a lower or uppercase "x".  Hexadecimal digits can be specified
in lower or uppercase.  For example, in the Python interpreter:
<P>
<PRE>
    >>> a = 0xa5
    >>> a
    165
    >>> b = 0XB2
    >>> b
    178
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.073.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.073.htp">Log info</A>

/ Last changed on Tue Mar  3 12:53:16 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="4.74">4.74. How to get a single keypress at a time?</A></H2>
For Windows, see question 8.2.  Here is an answer for Unix.
<P>
There are several solutions; some involve using curses, which is a
pretty big thing to learn.  Here's a solution without curses, due
to Andrew Kuchling (adapted from code to do a PGP-style
randomness pool):
<P>
<PRE>
        import termios, TERMIOS, sys, os
        fd = sys.stdin.fileno()
        old = termios.tcgetattr(fd)
        new = termios.tcgetattr(fd)
        new[3] = new[3] &amp; ~TERMIOS.ICANON &amp; ~TERMIOS.ECHO
        new[6][TERMIOS.VMIN] = 1
        new[6][TERMIOS.VTIME] = 0
        termios.tcsetattr(fd, TERMIOS.TCSANOW, new)
        s = ''    # We'll save the characters typed and add them to the pool.
        try:
            while 1:
                c = os.read(fd, 1)
                print "Got character", `c`
                s = s+c
        finally:
            termios.tcsetattr(fd, TERMIOS.TCSAFLUSH, old)
</PRE>
You need the termios module for any of this to work, and I've only
tried it on Linux, though it should work elsewhere.  It turns off
stdin's echoing and disables canonical mode, and then reads a
character at a time from stdin, noting the time after each keystroke.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.074.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.074.htp">Log info</A>

/ Last changed on Fri May  8 11:49:25 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="4.75">4.75. How can I overload constructors (or methods) in Python?</A></H2>
(This actually applies to all methods, but somehow the question
usually comes up first in the context of constructors.)
<P>
Where in C++ you'd write
<P>
<PRE>
    class C {
        C() { cout &lt;&lt; "No arguments\n"; }
        C(int i) { cout &lt;&lt; "Argument is " &lt;&lt; i &lt;&lt; "\n"; }
    }
</PRE>
in Python you have to write a single constructor that catches all
cases using default arguments.  For example:
<P>
<PRE>
    class C:
        def __init__(self, i=None):
            if i is None:
                print "No arguments"
            else:
                print "Argument is", i
</PRE>
This is not entirely equivalent, but close enough in practice.
<P>
You could also try a variable-length argument list, e.g.
<P>
<PRE>
        def __init__(self, *args):
            ....
</PRE>
The same approach works for all method definitions.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.075.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.075.htp">Log info</A>

/ Last changed on Mon Apr 20 11:55:55 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="4.76">4.76. How do I pass keyword arguments from one method to another?</A></H2>
Use apply.  For example:
<P>
<PRE>
    class Account:
        def __init__(self, **kw):
            self.accountType = kw.get('accountType')
            self.balance = kw.get('balance')
</PRE>
<PRE>
    class CheckingAccount(Account):
        def __init__(self, **kw):
            kw['accountType'] = 'checking'
            apply(Account.__init__, (self,), kw)
</PRE>
<PRE>
    myAccount = CheckingAccount(balance=100.00)
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.076.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.076.htp">Log info</A>

/ Last changed on Wed Apr 22 08:27:10 1998 by
<A HREF="mailto:JeffBauer@bigfoot.com">Jeff Bauer</A>
<P>

<HR>
<H2><A NAME="4.77">4.77. What module should I use to help with generating HTML?</A></H2>
Check out HTMLgen written by Robin Friedrich. It's a class library
of objects corresponding to all the HTML 3.2 markup tags. It's used
when you are writing in Python and wish to synthesize HTML pages for
generating a web or for CGI forms, etc. 
<P>
It can be found in the FTP contrib area on python.org or on the 
Starship. Use the search engines there to locate the latest version.
<P>
It might also be useful to consider DocumentTemplate, which offers clear 
separation between Python code and HTML code.  DocumentTemplate is part 
of the Bobo objects publishing system (http:/www.digicool.com/releases) 
but can be used independantly of course!
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.077.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.077.htp">Log info</A>

/ Last changed on Fri Aug 28 09:54:58 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="4.78">4.78. How do I create documentation from doc strings?</A></H2>
Use gendoc, by Daniel Larson.  See
<P>
<A HREF="http://starship.skyport.net/crew/danilo">http://starship.skyport.net/crew/danilo</A>/
<P>
It can create HTML from the doc strings in your Python source code.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.078.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.078.htp">Log info</A>

/ Last changed on Wed Jun 10 17:41:36 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="4.79">4.79. How do I read (or write) binary data?</A></H2>
For complex data formats, it's best to use
use the struct module.  It's documented in the library reference.
It allows you to take a string read from a file containing binary
data (usually numbers) and convert it to Python objects; and vice
versa.
<P>
For example, the following code reads two 2-byte integers
and one 4-byte integer in big-endian format from a file:
<P>
<PRE>
  import struct
</PRE>
<PRE>
  f = open(filename, "rb")  # Open in binary mode for portability
  s = f.read(8)
  x, y, z = struct.unpack(">hhl", s)
</PRE>
The '>' in the format string forces bin-endian data; the letter
'h' reads one "short integer" (2 bytes), and 'l' reads one
"long integer" (4 bytes) from the string.
<P>
For data that is more regular (e.g. a homogeneous list of ints or
floats), you can also use the array module, also documented
in the library reference.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.079.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.079.htp">Log info</A>

/ Last changed on Wed Oct  7 09:16:45 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="4.80">4.80. I can't get key bindings to work in Tkinter</A></H2>
An oft-heard complaint is that event handlers bound to events
with the bind() method don't get handled even when the appropriate
key is pressed.
<P>
The most common cause is that the widget to which the binding applies
doesn't have "keyboard focus".  Check out the Tk documentation
for the focus command.  Usually a widget is given the keyboard
focus by clicking in it (but not for labels; see the taketocus
option).
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.080.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.080.htp">Log info</A>

/ Last changed on Fri Jun 12 09:37:33 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="4.81">4.81. &quot;import crypt&quot; fails</A></H2>
[Unix]
<P>
Starting with Python 1.5, the crypt module is disabled by default.
In order to enable it, you must go into the Python source tree and
edit the file Modules/Setup to enable it (remove a '#' sign in
front of the line starting with '#crypt').  Then rebuild.
You may also have to add the string '-lcrypt' to that same line.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.081.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.081.htp">Log info</A>

/ Last changed on Wed Aug  5 08:57:09 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="4.82">4.82. Are there coding standards or a style guide for Python programs?</A></H2>
Yes, Guido has written the "Python Style Guide".  See
<A HREF="http://www.python.org/doc/essays/styleguide.html">http://www.python.org/doc/essays/styleguide.html</A>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.082.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.082.htp">Log info</A>

/ Last changed on Tue Sep 29 09:50:27 1998 by
<A HREF="mailto:vanandel@ucar.edu">Joseph VanAndel</A>
<P>

<HR>
<H2><A NAME="4.83">4.83. How do I freeze Tkinter applications?</A></H2>
Freeze is a tool to create stand-alone applications (see 4.28).
<P>
When freezing Tkinter applications, the applications will not be
truly stand-alone, as the application will still need the tcl and
tk libraries.
<P>
One solution is to ship the application with the tcl and tk libraries,
and point to them at run-time using the TCL_LIBRARY and TK_LIBRARY
environment variables.
<P>
To get truly stand-alone applications, the Tcl scripts that form
the library have to be integrated into the application as well. One
tool supporting that is SAM (stand-alone modules), which is part
of the Tix distribution (<A HREF="http://tix.mne.com">http://tix.mne.com</A>). Build Tix with SAM 
enabled, perform the appropriate call to Tclsam_init etc inside 
Python's Modules/tkappinit.c, and link with libtclsam
and libtksam (you might include the Tix libraries as well).
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.083.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.083.htp">Log info</A>

/ Last changed on Wed Jan 20 17:35:01 1999 by
<A HREF="mailto:loewis@informatik.hu-berlin.de">Martin v. Lwis</A>
<P>

<HR>
<H2><A NAME="4.84">4.84. How do I create static class data and static class methods?</A></H2>
[Tim Peters, <A HREF="mailto:tim_one@email.msn.com">tim_one@email.msn.com</A>]
<P>
Static data (in the sense of C++ or Java) is easy; static methods (again in the sense of C++ or Java) are not supported directly.
<P>
STATIC DATA
<P>
For example,
<P>
<PRE>
    class C:
        count = 0   # number of times C.__init__ called
</PRE>
<PRE>
        def __init__(self):
            C.count = C.count + 1
</PRE>
<PRE>
        def getcount(self):
            return C.count  # or return self.count
</PRE>
c.count also refers to C.count for any c such that isinstance(c, C) holds, unless overridden by c itself or by some class on the base-class search path from c.__class__ back to C.
<P>
Caution:  within a method of C,
<P>
<PRE>
    self.count = 42
</PRE>
creates a new and unrelated instance vrbl named "count" in self's own dict.  So rebinding of a class-static data name needs the
<P>
<PRE>
    C.count = 314
</PRE>
form whether inside a method or not.
<P>
<P>
STATIC METHODS
<P>
Static methods (as opposed to static data) are unnatural in Python, because
<P>
<PRE>
    C.getcount
</PRE>
returns an unbound method object, which can't be invoked without supplying an instance of C as the first argument.
<P>
The intended way to get the effect of a static method is via a module-level function:
<P>
<PRE>
    def getcount():
        return C.count
</PRE>
If your code is structured so as to define one class (or tightly related class hierarchy) per module, this supplies the desired encapsulation.
<P>
Several tortured schemes for faking static methods can be found by searching DejaNews.  Most people feel such cures are worse than the disease.  Perhaps the least obnoxious is due to Pekka Pessi (mailto:<A HREF="mailto:ppessi@hut.fi">ppessi@hut.fi</A>):
<P>
<PRE>
    # helper class to disguise function objects
    class _static:
        def __init__(self, f):
            self.__call__ = f
</PRE>
<PRE>
    class C:
        count = 0
</PRE>
<PRE>
        def __init__(self):
            C.count = C.count + 1
</PRE>
<PRE>
        def getcount():
            return C.count
        getcount = _static(getcount)
</PRE>
<PRE>
        def sum(x, y):
            return x + y
        sum = _static(sum)
</PRE>
<PRE>
    C(); C()
    c = C()
    print C.getcount()  # prints 3
    print c.getcount()  # prints 3
    print C.sum(27, 15) # prints 42
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.084.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.084.htp">Log info</A>

/ Last changed on Thu Jan 21 21:35:38 1999 by
<A HREF="mailto:tim_one@email.msn.com">Tim Peters</A>
<P>

<HR>
<H2><A NAME="4.85">4.85. __import__('x.y.z') returns &lt;module 'x'&gt;; how do I get z?</A></H2>
Try
<P>
<PRE>
   __import__('x.y.z').y.z
</PRE>
For more realistic situations, you may have to do something like
<P>
<PRE>
   m = __import__(s)
   for i in string.split(s, ".")[1:]:
       m = getattr(m, i)
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.085.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.085.htp">Log info</A>

/ Last changed on Thu Jan 28 11:01:43 1999 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="4.86">4.86. Basic thread wisdom</A></H2>
If you write a simple test program like this:
<P>
<PRE>
  import thread
  def run(name, n):
      for i in range(n): print name, i
  for i in range(10):
      thread.start_new(run, (i, 100))
</PRE>
none of the threads seem to run!  The reason is that as soon as
the main thread exits, all threads are killed.
<P>
A simple fix is to add a sleep to the end of the program,
sufficiently long for all threads to finish:
<P>
<PRE>
  import thread, time
  def run(name, n):
      for i in range(n): print name, i
  for i in range(10):
      thread.start_new(run, (i, 100))
  time.sleep(10) # &lt;----------------------------!
</PRE>
But now (on many platforms) the threads don't run in parallel,
but appear to run sequentially, one at a time!  The reason is
that the OS thread scheduler doesn't start a new thread until
the previous thread is blocked.
<P>
A simple fix is to add a tiny sleep to the start of the run
function:
<P>
<PRE>
  import thread, time
  def run(name, n):
      time.sleep(0.001) # &lt;---------------------!
      for i in range(n): print name, i
  for i in range(10):
      thread.start_new(run, (i, 100))
  time.sleep(10)
</PRE>
Some more hints:
<P>
Instead of using a time.sleep() call at the end, it's
better to use some kind of semaphore mechanism.  One idea is to
use a the Queue module to create a queue object, let each thread
append a token to the queue when it finishes, and let the main
thread read as many tokens from the queue as there are threads.
<P>
Use the threading module instead of the thread module.  It's part
of Python since version 1.5.1.  It takes care of all these details,
and has many other nice features too!
<P>

<A HREF="faqw.py?req=edit&amp;file=faq04.086.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq04.086.htp">Log info</A>

/ Last changed on Tue Feb 16 08:01:42 1999 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H1>5. Extending Python</H1>

<HR>
<H2><A NAME="5.1">5.1. Can I create my own functions in C?</A></H2>
Yes, you can create built-in modules containing functions,
variables, exceptions and even new types in C.  This is explained in
the document "Extending and Embedding the Python Interpreter" (the
LaTeX file Doc/ext.tex).  Also read the chapter on dynamic loading.
<P>
There's more information on this in each of the Python books:
Programming Python, Internet Programming with Python, and Das Python-Buch
(in German).
<P>

<A HREF="faqw.py?req=edit&amp;file=faq05.001.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq05.001.htp">Log info</A>

/ Last changed on Wed May 21 12:25:54 1997 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="5.2">5.2. Can I create my own functions in C++?</A></H2>
Yes, using the C-compatibility features found in C++.  Basically
you place extern "C" { ... } around the Python include files and put
extern "C" before each function that is going to be called by the
Python interpreter.  Global or static C++ objects with constructors
are probably not a good idea.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq05.002.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq05.002.htp">Log info</A>
<P>

<HR>
<H2><A NAME="5.3">5.3. How can I execute arbitrary Python statements from C?</A></H2>
The highest-level function to do this is PyRun_SimpleString() which takes
a single string argument which is executed in the context of module
__main__ and returns 0 for success and -1 when an exception occurred
(including SyntaxError).  If you want more control, use PyRun_String();
see the source for PyRun_SimpleString() in Python/pythonrun.c.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq05.003.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq05.003.htp">Log info</A>

/ Last changed on Fri May 23 20:08:14 1997 by
<A HREF="mailto:billtut@microsoft.com">Bill Tutt</A>
<P>

<HR>
<H2><A NAME="5.4">5.4. How can I evaluate an arbitrary Python expression from C?</A></H2>
Call the function PyRun_String() from the previous question with the
start symbol eval_input (Py_eval_input starting with 1.5a1); it 
parses an expression, evaluates it and returns its value.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq05.004.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq05.004.htp">Log info</A>

/ Last changed on Wed May 21 22:23:18 1997 by
<A HREF="mailto:david_ascher@brown.edu">David Ascher</A>
<P>

<HR>
<H2><A NAME="5.5">5.5. How do I extract C values from a Python object?</A></H2>
That depends on the object's type.  If it's a tuple,
PyTupleSize(o) returns its length and PyTuple_GetItem(o, i)
returns its i'th item; similar for lists with PyListSize(o)
and PyList_GetItem(o, i).  For strings, PyString_Size(o) returns
its length and PyString_AsString(o) a pointer to its value
(note that Python strings may contain null bytes so strlen()
is not safe).  To test which type an object is, first make sure
it isn't NULL, and then use PyString_Check(o), PyTuple_Check(o),
PyList_Check(o), etc.
<P>
There is also a high-level API to Python objects which is
provided by the so-called 'abstract' interface -- read
Include/abstract.h for further details.  It allows for example 
interfacing with any kind of Python sequence (e.g. lists and tuples)
using calls like PySequence_Length(), PySequence_GetItem(), etc.)
as well as many other useful protocols.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq05.005.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq05.005.htp">Log info</A>

/ Last changed on Wed May 21 22:34:20 1997 by
<A HREF="mailto:david_ascher@brown.edu">David Ascher</A>
<P>

<HR>
<H2><A NAME="5.6">5.6. How do I use Py_BuildValue() to create a tuple of arbitrary length?</A></H2>
You can't.  Use t = PyTuple_New(n) instead, and fill it with
objects using PyTuple_SetItem(t, i, o) -- note that this "eats" a
reference count of o.  Similar for lists with PyList_New(n) and
PyList_SetItem(l, i, o).  Note that you <I>must</I> set all the tuple items to
some value before you pass the tuple to Python code --
PyTuple_New(n) initializes them to NULL, which isn't a valid Python
value.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq05.006.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq05.006.htp">Log info</A>

/ Last changed on Thu Jul 31 18:15:29 1997 by
<A HREF="mailto:guido@python.org">Guido van Rossum</A>
<P>

<HR>
<H2><A NAME="5.7">5.7. How do I call an object's method from C?</A></H2>
Here's a function (untested) that might become part of the next
release in some form.  It uses &lt;stdarg.h&gt; to allow passing the
argument list on to vmkvalue():
<P>
<PRE>
        object *call_method(object *inst, char *methodname, char *format, ...)
        {
                object *method;
                object *args;
                object *result;
                va_list va;
                method = getattr(inst, methodname);
                if (method == NULL) return NULL;
                va_start(va, format);
                args = vmkvalue(format, va);
                va_end(va);
                if (args == NULL) {
                        DECREF(method);
                        return NULL;
                }
                result = call_object(method, args);
                DECREF(method);
                DECREF(args);
                return result;
        }
</PRE>
This works for any instance that has methods -- whether built-in or
user-defined.  You are responsible for eventually DECREF'ing the
return value.
<P>
To call, e.g., a file object's "seek" method with arguments 10, 0
(assuming the file object pointer is "f"):
<P>
<PRE>
        res = call_method(f, "seek", "(OO)", 10, 0);
        if (res == NULL) {
                ... an exception occurred ...
        }
        else {
                DECREF(res);
        }
</PRE>
Note that since call_object() <I>always</I> wants a tuple for the argument
list, to call a function without arguments, pass "()" for the format,
and to call a function with one argument, surround the argument in
parentheses, e.g. "(i)".
<P>

<A HREF="faqw.py?req=edit&amp;file=faq05.007.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq05.007.htp">Log info</A>

/ Last changed on Wed May 21 15:58:14 1997 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="5.8">5.8. How do I catch the output from PyErr_Print() (or anything that prints to stdout/stderr)?</A></H2>
(Due to Mark Hammond):
<P>
In Python code, define an object that supports the "write()" method.
Redirect sys.stdout and sys.stderr to this object.
Call print_error, or just allow the standard traceback mechanism to
work. Then, the output will go wherever your write() method sends it.
<P>
The easiest way to do this is to use the StringIO class in the standard
library.
<P>
Sample code and use for catching stdout:
<PRE>
	>>> class StdoutCatcher:
	...  def __init__(self):
	...   self.data = ''
	...  def write(self, stuff):
	...   self.data = self.data + stuff
	...  
	>>> import sys
	>>> sys.stdout = StdoutCatcher()
	>>> print 'foo'
	>>> print 'hello world!'
	>>> sys.stderr.write(sys.stdout.data)
	foo
	hello world!
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq05.008.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq05.008.htp">Log info</A>

/ Last changed on Wed Dec 16 18:34:25 1998 by
<A HREF="mailto:richard@bofh.asn.au">Richard Jones</A>
<P>

<HR>
<H2><A NAME="5.9">5.9. How do I access a module written in Python from C?</A></H2>
You can get a pointer to the module object as follows:
<P>
<PRE>
        module = PyImport_ImportModule("&lt;modulename&gt;");
</PRE>
If the module hasn't been imported yet (i.e. it is not yet present in
sys.modules), this initializes the module; otherwise it simply returns
the value of sys.modules["&lt;modulename&gt;"].  Note that it doesn't enter
the module into any namespace -- it only ensures it has been
initialized and is stored in sys.modules.
<P>
You can then access the module's attributes (i.e. any name defined in
the module) as follows:
<P>
<PRE>
        attr = PyObject_GetAttrString(module, "&lt;attrname&gt;");
</PRE>
Calling PyObject_SetAttrString(), to assign to variables in the module, also works.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq05.009.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq05.009.htp">Log info</A>

/ Last changed on Wed May 21 22:56:40 1997 by
<A HREF="mailto:david_ascher@brown.edu">david ascher</A>
<P>

<HR>
<H2><A NAME="5.10">5.10. How do I interface to C++ objects from Python?</A></H2>
Depending on your requirements, there are many approaches.  To do
this manually, begin by reading the "Extending and Embedding" document
(Doc/ext.tex, see also <A HREF="http://www.python.org/doc">http://www.python.org/doc</A>/).  Realize
that for the Python run-time system, there isn't a whole lot of
difference between C and C++ -- so the strategy to build a new Python
type around a C structure (pointer) type will also work for C++
objects.
<P>
A useful automated approach (which also works for C) is SWIG:
<A HREF="http://www.cs.utah.edu/~beazley/SWIG">http://www.cs.utah.edu/~beazley/SWIG</A>/.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq05.010.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq05.010.htp">Log info</A>
<P>

<HR>
<H2><A NAME="5.11">5.11. mSQLmodule (or other old module) won't build with Python 1.5 (or later)</A></H2>
Since python-1.4 "Python.h" will have the file includes needed in an 
extension module.
Backward compatibility is dropped after version 1.4 and therefore 
mSQLmodule.c will not build as "allobjects.h" cannot be found. 
The following change in mSQLmodule.c is harmless when building it with
1.4 and necessary when doing so for later python versions:
<P>
Remove lines:
<P>
<PRE>
	#include "allobjects.h"
	#include "modsupport.h"
</PRE>
And insert instead:
<P>
<PRE>
	#include "Python.h"
</PRE>
You may also need to add
<P>
<PRE>
                #include "rename2.h"
</PRE>
if the module uses "old names".
<P>
This may happen with other ancient python modules as well,
and the same fix applies.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq05.011.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq05.011.htp">Log info</A>

/ Last changed on Sun Dec 21 02:03:35 1997 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="5.12">5.12. I added a module using the Setup file and the make fails! Huh?</A></H2>
Setup must end in a newline, if there is no newline there it gets
very sad.  Aside from this possibility, maybe you have other
non-Python-specific linkage problems.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq05.012.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq05.012.htp">Log info</A>

/ Last changed on Tue Jun 24 15:54:01 1997 by
<A HREF="mailto:aaron_watters@msn.com">aaron watters</A>
<P>

<HR>
<H2><A NAME="5.13">5.13. I want to compile a Python module on my Red Hat Linux system, but some files are missing.</A></H2>
Red Hat's RPM for Python doesn't include the 
/usr/lib/python1.x/config/ directory, which contains various files required 
for compiling Python extensions.
Install the python-devel RPM to get the necessary files.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq05.013.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq05.013.htp">Log info</A>

/ Last changed on Tue Jan 26 13:44:04 1999 by
<A HREF="mailto:akuchling@acm.org">A.M. Kuchling</A>
<P>

<HR>
<H2><A NAME="5.14">5.14. What does &quot;SystemError: _PyImport_FixupExtension: module yourmodule not loaded&quot; mean?</A></H2>
This means that you have created an extension module named "yourmodule", but your module init function does not initialize with that name.
<P>
Every module init function will have a line similar to:
<P>
<PRE>
  module = Py_InitModule("yourmodule", yourmodule_functions);
</PRE>
If the string passed to this function is not the same name as your extenion module, the SystemError will be raised.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq05.014.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq05.014.htp">Log info</A>

/ Last changed on Thu Mar 25 07:16:08 1999 by
<A HREF="mailto:mhammond@skippinet.com.au">Mark Hammond</A>
<P>

<HR>
<H1>6. Python's design</H1>

<HR>
<H2><A NAME="6.1">6.1. Why isn't there a switch or case statement in Python?</A></H2>
You can do this easily enough with a sequence of
if... elif... elif... else.  There have been some proposals for switch
statement syntax, but there is no consensus (yet) on whether and how
to do range tests.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.001.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.001.htp">Log info</A>
<P>

<HR>
<H2><A NAME="6.2">6.2. Why does Python use indentation for grouping of statements?</A></H2>
Basically I believe that using indentation for grouping is
extremely elegant and contributes a lot to the clarity of the average
Python program.  Most people learn to love this feature after a while.
Some arguments for it:
<P>
Since there are no begin/end brackets there cannot be a disagreement
between grouping perceived by the parser and the human reader.  I
remember long ago seeing a C fragment like this:
<P>
<PRE>
        if (x &lt;= y)
                x++;
                y--;
        z++;
</PRE>
and staring a long time at it wondering why y was being decremented
even for x > y...  (And I wasn't a C newbie then either.)
<P>
Since there are no begin/end brackets, Python is much less prone to
coding-style conflicts.  In C there are loads of different ways to
place the braces (including the choice whether to place braces around
single statements in certain cases, for consistency).  If you're used
to reading (and writing) code that uses one style, you will feel at
least slightly uneasy when reading (or being required to write)
another style.
Many coding styles place begin/end brackets on a line by themself.
This makes programs considerably longer and wastes valuable screen
space, making it harder to get a good overview over a program.
Ideally, a function should fit on one basic tty screen (say, 20
lines).  20 lines of Python are worth a LOT more than 20 lines of C.
This is not solely due to the lack of begin/end brackets (the lack of
declarations also helps, and the powerful operations of course), but
it certainly helps!
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.002.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.002.htp">Log info</A>

/ Last changed on Wed May 21 16:00:15 1997 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="6.3">6.3. Why are Python strings immutable?</A></H2>
There are two advantages.  One is performance: knowing that a
string is immutable makes it easy to lay it out at construction time
-- fixed and unchanging storage requirements.  (This is also one of
the reasons for the distinction between tuples and lists.)  The
other is that strings in Python are considered as "elemental" as
numbers.  No amount of activity will change the value 8 to anything
else, and in Python, no amount of activity will change the string
"eight" to anything else.  (Adapted from Jim Roskind)
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.003.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.003.htp">Log info</A>
<P>

<HR>
<H2><A NAME="6.4">6.4. Why don't strings have methods like index() or sort(), like lists?</A></H2>
Good question.  Strings currently don't have methods at all
(likewise tuples and numbers).  Long ago, it seemed unnecessary to
implement any of these functions in C, so a standard library module
"string" written in Python was created that performs string related
operations.  Since then, the cry for performance has moved most of
them into the built-in module strop (this is imported by module
string, which is still the preferred interface, without loss of
performance except during initialization).  Some of these functions
(e.g. index()) could easily be implemented as string methods instead,
but others (e.g. sort()) can't, since their interface prescribes that
they modify the object, while strings are immutable (see the previous
question).
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.004.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.004.htp">Log info</A>
<P>

<HR>
<H2><A NAME="6.5">6.5. Why does Python use methods for some functionality (e.g. list.index()) but functions for other (e.g. len(list))?</A></H2>
Functions are used for those operations that are generic for a
group of types and which should work even for objects that don't have
methods at all (e.g. numbers, strings, tuples).  Also, implementing
len(), max(), min() as a built-in function is actually less code than
implementing them as methods for each type.  One can quibble about
individual cases but it's really too late to change such things
fundamentally now.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.005.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.005.htp">Log info</A>
<P>

<HR>
<H2><A NAME="6.6">6.6. Why can't I derive a class from built-in types (e.g. lists or files)?</A></H2>
This is caused by the relatively late addition of (user-defined)
classes to the language -- the implementation framework doesn't easily
allow it.  See the answer to question 4.2 for a work-around.  This
<I>may</I> be fixed in the (distant) future.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.006.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.006.htp">Log info</A>
<P>

<HR>
<H2><A NAME="6.7">6.7. Why must 'self' be declared and used explicitly in method definitions and calls?</A></H2>
By asking this question you reveal your C++ background. :-)
When I added classes, this was (again) the simplest way of
implementing methods without too many changes to the interpreter.  I
borrowed the idea from Modula-3.  It turns out to be very useful, for
a variety of reasons.
<P>
First, it makes it more obvious that you are using a method or
instance attribute instead of a local variable.  Reading "self.x" or
"self.meth()" makes it absolutely clear that an instance variable or
method is used even if you don't know the class definition by heart.
In C++, you can sort of tell by the lack of a local variable
declaration (assuming globals are rare or easily recognizable) -- but
in Python, there are no local variable declarations, so you'd have to
look up the class definition to be sure.
<P>
Second, it means that no special syntax is necessary if you want to
explicitly reference or call the method from a particular class.  In
C++, if you want to use a method from base class that is overridden in
a derived class, you have to use the :: operator -- in Python you can
write baseclass.methodname(self, &lt;argument list&gt;).  This is
particularly useful for __init__() methods, and in general in cases
where a derived class method wants to extend the base class method of
the same name and thus has to call the base class method somehow.
<P>
Lastly, for instance variables, it solves a syntactic problem with
assignment: since local variables in Python are (by definition!) those
variables to which a value assigned in a function body (and that
aren't explicitly declared global), there has to be some way to tell
the interpreter that an assignment was meant to assign to an instance
variable instead of to a local variable, and it should preferably be
syntactic (for efficiency reasons).  C++ does this through
declarations, but Python doesn't have declarations and it would be a
pity having to introduce them just for this purpose.  Using the
explicit "self.var" solves this nicely.  Similarly, for using instance
variables, having to write "self.var" means that references to
unqualified names inside a method don't have to search the instance's
directories.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.007.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.007.htp">Log info</A>

/ Last changed on Wed May 21 15:56:54 1997 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="6.8">6.8. Can't you emulate threads in the interpreter instead of relying on an OS-specific thread implementation?</A></H2>
Unfortunately, the interpreter pushes at least one C stack frame
for each Python stack frame.  Also, extensions can call back into
Python at almost random moments.  Therefore a complete threads
implementation requires thread support for C.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.008.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.008.htp">Log info</A>
<P>

<HR>
<H2><A NAME="6.9">6.9. Why can't lambda forms contain statements?</A></H2>
Python lambda forms cannot contain statements because Python's
syntactic framework can't handle statements nested inside expressions.
<P>
However, in Python, this is not a serious problem.  Unlike lambda
forms in other languages, where they add functionality, Python lambdas
are only a shorthand notation if you're too lazy to define a function.
<P>
Functions are already first class objects in Python, and can be
declared in a local scope.  Therefore the only advantage of using a
lambda form instead of a locally-defined function is that you don't need to invent a name for the function -- but that's just a local variable to which the function object (which is exactly the same type of object that a lambda form yields) is assigned!
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.009.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.009.htp">Log info</A>

/ Last changed on Sun Jun 14 14:15:17 1998 by
<A HREF="mailto:tim_one@email.msn.com">Tim Peters</A>
<P>

<HR>
<H2><A NAME="6.10">6.10. Why don't lambdas have access to variables defined in the containing scope?</A></H2>
Because they are implemented as ordinary functions.
See question 4.5 above.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.010.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.010.htp">Log info</A>
<P>

<HR>
<H2><A NAME="6.11">6.11. Why can't recursive functions be defined inside other functions?</A></H2>
See question 4.5 above.  But actually recursive functions
can be defined in other functions with some trickery.
<P>
<PRE>
    def test():
        class factorial:
             def __call__(self, n):
                 if n&lt;=1: return 1
                 return n * self(n-1)
        return factorial()
</PRE>
<PRE>
    fact = test()
</PRE>
The instance created by factorial() above acts like the
recursive factorial function.  
<P>
Mutually recursive functions can be passed to each other as 
arguments.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.011.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.011.htp">Log info</A>

/ Last changed on Sat May 24 01:35:29 1997 by
<A HREF="mailto:manus@evolving.com">Manus Hand</A>
<P>

<HR>
<H2><A NAME="6.12">6.12. Why is there no more efficient way of iterating over a dictionary than first constructing the list of keys()?</A></H2>
Have you tried it?  I bet it's fast enough for your purposes!  In
most cases such a list takes only a few percent of the space occupied
by the dictionary.  Apart from the fixed header,
the list needs only 4 bytes (the size of a pointer) per
key.  A dictionary uses 12 bytes per key plus between 30 and 70
percent hash table overhead, plus the space for the keys and values.
By necessity, all keys are distinct objects, and a string object (the most
common key type) costs at least 20 bytes plus the length of the
string.  Add to that the values contained in the dictionary, and you
see that 4 bytes more per item really isn't that much more memory...
<P>
A call to dict.keys() makes one fast scan over the dictionary
(internally, the iteration function does exist) copying the pointers
to the key objects into a pre-allocated list object of the right size.
The iteration time isn't lost (since you'll have to iterate anyway --
unless in the majority of cases your loop terminates very prematurely
(which I doubt since you're getting the keys in random order).
<P>
I don't expose the dictionary iteration operation to Python
programmers because the dictionary shouldn't be modified during the
entire iteration -- if it is, there's a small chance that the
dictionary is reorganized because the hash table becomes too full, and
then the iteration may miss some items and see others twice.  Exactly
because this only occurs rarely, it would lead to hidden bugs in
programs: it's easy never to have it happen during test runs if you
only insert or delete a few items per iteration -- but your users will 
surely hit upon it sooner or later.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.012.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.012.htp">Log info</A>

/ Last changed on Fri Nov  7 11:12:26 1997 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="6.13">6.13. Can Python be compiled to machine code, C or some other language?</A></H2>
Not easily.  Python's high level data types, dynamic typing of
objects and run-time invocation of the interpreter (using eval() or
exec) together mean that a "compiled" Python program would probably
consist mostly of calls into the Python run-time system, even for
seemingly simple operations like "x+1".  Thus, the performance gain
would probably be minimal.
<P>
Internally, Python source code is always translated into a "virtual
machine code" or "byte code" representation before it is interpreted
(by the "Python virtual machine" or "bytecode interpreter").  In order
to avoid the overhead of parsing and translating modules that rarely
change over and over again, this byte code is written on a file whose
name ends in ".pyc" whenever a module is parsed (from a file whose
name ends in ".py").  When the corresponding .py file is changed, it
is parsed and translated again and the .pyc file is rewritten.
<P>
There is no performance difference once the .pyc file has been loaded
(the bytecode read from the .pyc file is exactly the same as the bytecode
created by direct translation).  The only difference is that loading
code from a .pyc file is faster than parsing and translating a .py
file, so the presence of precompiled .pyc files will generally improve
start-up time of Python scripts.  If desired, the Lib/compileall.py
module/script can be used to force creation of valid .pyc files for a
given set of modules.
<P>
Note that the main script executed by Python, even if its filename
ends in .py, is not compiled to a .pyc file.  It is compiled to
bytecode, but the bytecode is not saved to a file.
<P>
If you are looking for a way to translate Python programs in order to
distribute them in binary form, without the need to distribute the
interpreter and library as well, have a look at the freeze.py script
in the Tools/freeze directory.  This creates a single binary file
incorporating your program, the Python interpreter, and those parts of
the Python library that are needed by your program.  Of course, the
resulting binary will only run on the same type of platform as that
used to create it.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.013.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.013.htp">Log info</A>

/ Last changed on Sun Jun 28 15:15:57 1998 by
<A HREF="mailto:guido@python.org">Gvr</A>
<P>

<HR>
<H2><A NAME="6.14">6.14. How does Python manage memory? Why not full garbage collection?</A></H2>
Python uses reference counting memory management.
This means that
when an object is no longer in use Python frees the object automatically, with a few exceptions.
<P>
1) if the object lies on a circular reference path it won't be freed unless the circularities are broken. EG:
<P>
<PRE>
       List = [None]
       List[0] = List
</PRE>
List will not be freed unless the circularity (List[0] is List) is broken.
The reason List will not be freed is because although it may become
inaccessible the list contains a reference to itself, and reference
counting only deallocates an object when all references to an object
are destroyed.  To break the circular reference path we must destroy
the reference, as in
<P>
<PRE>
       List[0] = None
</PRE>
So, if your program creates circular references (and if it is long running and/or consumes lots of memory) it may have to do some explicit management of circular structures.  In many application domains this
is needed rarely, if ever.
<P>
2) Sometimes objects get stuck in "tracebacks" temporarily and hence are not deallocated when you might expect.  Clear the tracebacks via
<P>
<PRE>
       import sys
       sys.exc_traceback = sys.last_traceback = None
</PRE>
Tracebacks are used for reporting errors and implementing debuggers and related things.  They contain a portion of the program state extracted during the handling of an exception (usually the most recent exception).
<P>
In the absence of circularities and modulo tracebacks, Python programs need not explicitly manage memory.
<P>
It is often suggested that Python could benefit from fully general garbage collection.
It's looking less and less likely that Python will ever get
"automatic" garbage collection (GC).  For one thing, unless this were
added to C as a standard feature, it's a portability pain in the ass.
And yes, I know about the Xerox library.  It has bits of assembler
code for <I>most</I> <I>common</I> platforms.  Not for all.  And although it is
mostly transparent, it isn't completely transparent (when I once
linked Python with it, it dumped core).
<P>
"Proper" GC also becomes a problem when Python gets embedded into
other applications.  While in a stand-alone Python it may be fine to
replace the standard malloc() and free() with versions provided by the
GC library, an application embedding Python may want to have its <I>own</I>
substitute for malloc() and free(), and may not want Python's.  Right
now, Python works with anything that implements malloc() and free()
properly.
<P>
Besides, the predictability of destructor calls in Python is kind of
attractive.  With GC, the following code (which is fine in current
Python) will run out of file descriptors long before it runs out of
memory:
<P>
<PRE>
        for file in &lt;very long list of files&gt;:
                f = open(file)
                c = file.read(1)
</PRE>
Using the current reference counting and destructor scheme, each new
assignment to f closes the previous file.  Using GC, this is not
guaranteed.  Sure, you can think of ways to fix this.  But it's not
off-the-shelf technology.
<P>
All that said, somebody has managed to add GC to Python using the
GC library fromn Xerox, so you can see for yourself.  See
<P>
<PRE>
	<A HREF="http://starship.skyport.net/crew/gandalf/gc-ss.html">http://starship.skyport.net/crew/gandalf/gc-ss.html</A>
</PRE>
See also question 4.17 for ways to plug some common memory leaks
manually.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.014.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.014.htp">Log info</A>

/ Last changed on Fri Aug  8 08:30:09 1997 by
<A HREF="mailto:guido@python.org">Guido van Rossum</A>
<P>

<HR>
<H2><A NAME="6.15">6.15. Why are there separate tuple and list data types?</A></H2>
This is done so that tuples can be immutable while lists are mutable.
<P>
Immutable tuples are useful in situations where you need to pass a few
items to a function and don't want the function to modify the tuple;
for example,
<P>
<PRE>
	point1 = (120, 140)
	point2 = (200, 300)
	record(point1, point2)
	draw(point1, point2)
</PRE>
You don't want to have to think about what would happen if record()
changed the coordinates -- it can't, because the tuples are immutable.
<P>
On the other hand, when creating large lists dynamically, it is
absolutely crucial that they are mutable -- adding elements to a tuple
one by one requires using the concatenation operator, which makes it
quadratic in time.
<P>
As a general guideline, use tuples like you would use structs in C or
records in Pascal, use lists like (variable length) arrays.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.015.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.015.htp">Log info</A>

/ Last changed on Fri May 23 15:26:03 1997 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="6.16">6.16. How are lists implemented?</A></H2>
Despite what a Lisper might think, Python's lists are really
variable-length arrays.  The implementation uses a contiguous
array of references to other objects, and keeps a pointer
to this array (as well as its length) in a list head structure.
<P>
This makes indexing a list (a[i]) an operation whose cost is
independent of the size of the list or the value of the index.
<P>
When items are appended or inserted, the array of references is resized.
Some cleverness is applied to improve the performance of appending
items repeatedly; when the array must be grown, some extra space
is allocated so the next few times don't require an actual resize.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.016.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.016.htp">Log info</A>

/ Last changed on Fri May 23 15:32:24 1997 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="6.17">6.17. How are dictionaries implemented?</A></H2>
Python's dictionaries are implemented as resizable hash tables.
<P>
Compared to B-trees, this gives better performance for lookup
(the most common operation by far) under most circumstances,
and the implementation is simpler.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.017.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.017.htp">Log info</A>

/ Last changed on Fri May 23 23:51:14 1997 by
<A HREF="mailto:Vladimir.Marangozov@inrialpes.fr">Vladimir Marangozov</A>
<P>

<HR>
<H2><A NAME="6.18">6.18. Why must dictionary keys be immutable?</A></H2>
The hash table implementation of dictionaries uses a hash value
calculated from the key value to find the key.  If the key were
a mutable object, its value could change, and thus its hash could
change.  But since whoever changes the key object can't tell that
is incorporated in a dictionary, it can't move the entry around in
the dictionary.  Then, when you try to look up the same object
in the dictionary, it won't be found, since its hash value is different;
and if you try to look up the old value, it won't be found either,
since the value of the object found in that hash bin differs.
<P>
If you think you need to have a dictionary indexed with a list,
try to use a tuple instead.  The function tuple(l) creates a tuple
with the same entries as the list l.
<P>
Some unacceptable solutions that have been proposed:
<P>
- Hash lists by their address (object ID).  This doesn't work because
if you construct a new list with the same value it won't be found;
e.g.,
<P>
<PRE>
  d = {[1,2]: '12'}
  print d[[1,2]]
</PRE>
will raise a KeyError exception because the id of the [1,2] used
in the second line differs from that in the first line.
In other words, dictionary keys should be compared using '==', not using 'is'.
<P>
- Make a copy when using a list as a key.  This doesn't work because
the list (being a mutable object) could contain a reference to itself,
and then the copying code would run into an infinite loop.
<P>
- Allow lists as keys but tell the user not to modify them.  This would
allow a class of hard-to-track bugs in programs that I'd rather not see;
it invalidates an important invariant of dictionaries (every value in
d.keys() is usable as a key of the dictionary).
<P>
- Mark lists as read-only once they are used as a dictionary key.
The problem is that it's not just the top-level object that could change
its value; you could use a tuple containing a list as a key.  Entering
anything as a key into a dictionary would require marking all objects
reachable from there as read-only -- and again, self-referential objects
could cause an infinite loop again (and again and again).
<P>
There is a trick to get around this if you need to, but
use it at your own risk:  You
can wrap a mutable structure inside a class instance which
has both a __cmp__ and a __hash__ method.  
<P>
<PRE>
   class listwrapper:
        def __init__(self, the_list):
              self.the_list = the_list
        def __cmp__(self, other):
              return self.the_list == other.the_list
        def __hash__(self):
              l = self.the_list
              result = 98767 - len(l)*555
              for i in range(len(l)):
                   try:
                        result = result + (hash(l[i]) % 9999999) * 1001 + i
                   except:
                        result = (result % 7777777) + i * 333
              return result
</PRE>
Note that the hash computation is complicated by the
possibility that some members of the list may be unhashable
and also by the possibility of arithmetic overflow.
<P>
You must make
sure that the hash value for all such wrapper objects that reside in a
dictionary (or other hash based structure), remain fixed while
the object is in the dictionary (or other structure).
<P>
Furthermore it must always be the case that if
o1 == o2 (ie o1.__cmp__(o2)==0) then hash(o1)==hash(o2)
(ie, o1.__hash__() == o2.__hash__()), regardless of whether
the object is in a dictionary or not.
If you fail to meet these restrictions dictionaries and other
hash based structures may misbehave!
<P>
In the case of listwrapper above whenever the wrapper
object is in a dictionary the wrapped list must not change
to avoid anomalies.  Don't do this unless you are prepared
to think hard about the requirements and the consequences
of not meeting them correctly.  You've been warned!
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.018.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.018.htp">Log info</A>

/ Last changed on Thu Jul 10 10:08:40 1997 by
<A HREF="mailto:aaron_watters@msn.com">aaron watters</A>
<P>

<HR>
<H2><A NAME="6.19">6.19. How the heck do you make an array in Python?</A></H2>
["this", 1, "is", "an", "array"]
<P>
Lists are arrays in the C or Pascal sense of the word (see question
6.16).  The array module also provides methods for creating arrays
of fixed types with compact representations (but they are slower to
index than lists).  Also note that the Numerics extensions and others
define array-like structures with various characteristics as well.
<P>
To get Lisp-like lists, emulate cons cells
<P>
<PRE>
    lisp_list = ("like",  ("this",  ("example", None) ) )
</PRE>
using tuples (or lists, if you want mutability).  Here the analogue
of lisp car is lisp_list[0] and the analogue of cdr is lisp_list[1].
Only do this if you're sure you really need to (it's usually a lot
slower than using Python lists).
<P>
Think of Python lists as mutable heterogeneous arrays of
Python objects (say that 10 times fast :) ).
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.019.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.019.htp">Log info</A>

/ Last changed on Wed Aug 13 07:08:27 1997 by
<A HREF="mailto:aaron_watters@msn.com">aaron watters</A>
<P>

<HR>
<H2><A NAME="6.20">6.20. Why doesn't list.sort() return the sorted list?</A></H2>
In situations where performance matters, making a copy of the list
just to sort it would be wasteful.  Therefore, list.sort() sorts
the list in place.  In order to remind you of that fact, it does
not return the sorted list.  This way, you won't be fooled into
accidentally overwriting a list when you need a sorted copy but also
need to keep the unsorted version around.
<P>
As a result, here's the idiom to iterate over the keys of a dictionary
in sorted orted:
<P>
<PRE>
	keys = dict.keys()
	keys.sort()
	for key in keys:
		...do whatever with dict[key]...
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.020.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.020.htp">Log info</A>

/ Last changed on Wed May 28 09:44:43 1997 by
<A HREF="mailto:guido@cnri.reston.va.us">GvR</A>
<P>

<HR>
<H2><A NAME="6.21">6.21. How do you specify and enforce an interface spec in Python?</A></H2>
An interfaces specification for a module as provided
by languages such as C++ and java describes the prototypes
for the methods and functions of the module.  Many feel
that compile time enforcement of interface specifications
help aid in the construction of large programs.  Python
does not support interface specifications directly, but many
of their advantages can be obtained by an appropriate
test discipline for components, which can often be very
easily accomplished in Python.
<P>
A good test suite for a module can at
once provide a regression test and serve as a module interface
specification (even better since it also gives example usage).  Look to
many of the standard libraries which often have a "script
interpretation" which provides a simple "self test."  Even
modules which use complex external interfaces can often
be tested in isolation using trivial "stub" emulations of the
external interface.
<P>
An appropriate testing discipline (if enforced) can help
build large complex applications in Python as well as having interface
specifications would do (or better).  Of course Python allows you 
to get sloppy and not do it.  Also you might want to design
your code with an eye to make it easily tested.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.021.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.021.htp">Log info</A>

/ Last changed on Fri Jun 13 11:29:42 1997 by
<A HREF="mailto:aaron_watters@msn.com">aaron watters</A>
<P>

<HR>
<H2><A NAME="6.22">6.22. Why do all classes have the same type? Why do instances all have the same type?</A></H2>
The Pythonic use of the word "type" is quite different from
common usage in much of the rest of the programming language
world.  A "type" in Python is a description for an object's operations
as implemented in C.  All classes have the same operations
implemented in C which sometimes "call back" to differing program
fragments implemented in Python, and hence all classes have the
same type.  Similarly at the C level all class instances have the
same C implementation, and hence all instances have the same
type.
<P>
Remember that in Python usage "type" refers to a C implementation
of an object.  To distinguish among instances of different classes
use Instance.__class__, and also look to 4.47.  Sorry for the
terminological confusion, but at this point in Python's development
nothing can be done!
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.022.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.022.htp">Log info</A>

/ Last changed on Tue Jul  1 12:35:47 1997 by
<A HREF="mailto:aaron_watters@msn.com">aaron watters</A>
<P>

<HR>
<H2><A NAME="6.23">6.23. Why isn't all memory freed when Python exits?</A></H2>
Objects referenced from Python module global name spaces are
not always deallocated when Python exits.
<P>
This may happen if there are circular references (see question
4.17).  There are also certain bits of memory that are allocated
by the C library that are impossible to free (e.g. a tool
like Purify will complain about these).
<P>
But in general, Python 1.5 and beyond
(in contrast with earlier versions) is quite agressive about
cleaning up memory on exit.
<P>
If you want to force Python to delete certain things on deallocation
use the sys.exitfunc hook to force those deletions.  For example
if you are debugging an extension module using a memory analysis
tool and you wish to make Python deallocate almost everything
you might use an exitfunc like this one:
<P>
<PRE>
  import sys
</PRE>
<PRE>
  def my_exitfunc():
       print "cleaning up"
       import sys
       # do order dependant deletions here
       ...
       # now delete everything else in arbitrary order
       for x in sys.modules.values():
            d = x.__dict__
            for name in d.keys():
                 del d[name]
</PRE>
<PRE>
  sys.exitfunc = my_exitfunc
</PRE>
Other exitfuncs can be less drastic, of course.
<P>
(In fact, this one just does what Python now already does itself;
but the example of using sys.exitfunc to force cleanups is still
useful.)
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.023.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.023.htp">Log info</A>

/ Last changed on Tue Sep 29 09:46:26 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="6.24">6.24. Why no class methods or mutable class variables?</A></H2>
The notation
<P>
<PRE>
    instance.attribute(arg1, arg2)
</PRE>
usually translates to the equivalent of
<P>
<PRE>
    Class.attribute(instance, arg1, arg2)
</PRE>
where Class is a (super)class of instance.  Similarly
<P>
<PRE>
    instance.attribute = value
</PRE>
sets an attribute of an instance (overriding any attribute of a class
that instance inherits).  
<P>
Sometimes programmers want to have
different behaviours -- they want a method which does not bind
to the instance and a class attribute which changes in place.
Python does not preclude these behaviours, but you have to
adopt a convention to implement them.  One way to accomplish
this is to use "list wrappers" and global functions.
<P>
<PRE>
   def C_hello():
         print "hello"
</PRE>
<PRE>
   class C:
        hello = [C_hello]
        counter = [0]
</PRE>
<PRE>
    I = C()
</PRE>
Here I.hello[0]() acts very much like a "class method" and
I.counter[0] = 2 alters C.counter (and doesn't override it).
If you don't understand why you'd ever want to do this, that's
because you are pure of mind, and you probably never will
want to do it!  This is dangerous trickery, not recommended
when avoidable.  (Inspired by Tim Peter's discussion.)
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.024.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.024.htp">Log info</A>

/ Last changed on Tue Aug 12 13:40:55 1997 by
<A HREF="mailto:aaron_watters@msn.com">aaron watters</A>
<P>

<HR>
<H2><A NAME="6.25">6.25. Why are default values sometimes shared between objects?</A></H2>
It is often expected that a function CALL creates new objects for default
values. This is not what happens. Default values are created when the
function is DEFINED, that is, there is only one such object that all 
functions refer to. If that object is changed, subsequent calls to the 
function will refer to this changed object. By definition, immutable objects
(like numbers, strings, tuples, None) are safe from change. Changes to mutable 
objects (like dictionaries, lists, class instances) is what causes the
confusion.
<P>
Because of this feature it is good programming practice not to use mutable
objects as default values, but to introduce them in the function.
Don't write:
<P>
<PRE>
	def foo(dict={}):  # XXX shared reference to one dict for all calls
	    ...
</PRE>
but:
<PRE>
	def foo(dict=None):
		if dict is None:
			dict = {} # create a new dict for local namespace
</PRE>
See page 182 of "Internet Programming with Python" for one discussion
of this feature. Or see the top of page 144 or bottom of page 277 in 
"Programming Python" for another discussion.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.025.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.025.htp">Log info</A>

/ Last changed on Sat Aug 16 07:03:35 1997 by
<A HREF="mailto:cjr@bound.xs4all.nl">Case Roole</A>
<P>

<HR>
<H2><A NAME="6.26">6.26. Why no goto?</A></H2>
Actually, you can use exceptions to provide a "structured goto"
that even works across function calls.  Many feel that exceptions
can conveniently emulate all reasonable uses of the "go" or "goto"
constructs of C, Fortran, and other languages.  For example:
<P>
<PRE>
   class label: pass # declare a label
   try:
        ...
        if (condition): raise label() # goto label
        ...
   except label: # where to goto
        pass
   ...
</PRE>
This doesn't allow you to jump into the middle of a loop, but
that's usually considered an abuse of goto anyway.  Use sparingly.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.026.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.026.htp">Log info</A>

/ Last changed on Wed Sep 10 07:16:44 1997 by
<A HREF="mailto:aaron_watters@msn.com">aaron watters</A>
<P>

<HR>
<H2><A NAME="6.27">6.27. How do you make a higher order function in Python?</A></H2>
You have two choices: you can use default arguments and override
them or you can use "callable objects."  For example suppose you
wanted to define linear(a,b) which returns a function f where f(x)
computes the value a*x+b.  Using default arguments:
<P>
<PRE>
     def linear(a,b):
         def result(x, a=a, b=b):
             return a*x + b
         return result
</PRE>
Or using callable objects:
<P>
<PRE>
     class linear:
        def __init__(self, a, b):
            self.a, self.b = a,b
        def __call__(self, x):
            return self.a * x + self.b
</PRE>
In both cases:
<P>
<PRE>
     taxes = linear(0.3,2)
</PRE>
gives a callable object where taxes(10e6) == 0.3 * 10e6 + 2.
<P>
The defaults strategy has the disadvantage that the default arguments
could be accidentally or maliciously overridden.  The callable objects
approach has the disadvantage that it is a bit slower and a bit
longer.  Note however that a collection of callables can share
their signature via inheritance.  EG
<P>
<PRE>
      class exponential(linear):
         # __init__ inherited
         def __call__(self, x):
             return self.a * (x ** self.b)
</PRE>
On comp.lang.python, <A HREF="mailto:zenin@bawdycaste.org">zenin@bawdycaste.org</A> points out that
an object can encapsulate state for several methods in order
to emulate the "closure" concept from functional programming
languages, for example:
<P>
<PRE>
    class counter:
        value = 0
        def set(self, x): self.value = x
        def up(self): self.value=self.value+1
        def down(self): self.value=self.value-1
</PRE>
<PRE>
    count = counter()
    inc, dec, reset = count.up, count.down, count.set
</PRE>
Here inc, dec and reset act like "functions which share the
same closure containing the variable count.value" (if you
like that way of thinking).
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.027.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.027.htp">Log info</A>

/ Last changed on Fri Sep 25 08:38:35 1998 by
<A HREF="mailto:arw@pythonpros.com">Aaron Watters</A>
<P>

<HR>
<H2><A NAME="6.28">6.28. Why do I get a SyntaxError for a 'continue' inside a 'try'?</A></H2>
This is an implementation limitation,
caused by the extremely simple-minded
way Python generates bytecode.  The try block pushes something on the
"block stack" which the continue would have to pop off again.  The
current code generator doesn't have the data structures around so that 
'continue' can generate the right code.
<P>
Note that JPython doesn't have this restriction!
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.028.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.028.htp">Log info</A>

/ Last changed on Fri May 22 15:01:07 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="6.29">6.29. Why can't raw strings (r-strings) end with a backslash?</A></H2>
More precisely, they can't end with an odd number of backslashes:
the unpaired backslash at the end escapes the closing quote character,
leaving an unterminated string.
<P>
Raw strings were designed to ease creating input for processors (chiefly
regular expression engines) that want to do their own backslash escape processing. Such processors consider an unmatched trailing backslash to be an error anyway, so raw strings disallow that.  In return, they allow you to pass on the string quote character by escaping it with a backslash.  These rules work well when r-strings are used for their intended purpose.
<P>
If you're trying to build Windows pathnames, note that all Windows system calls accept forward slashes too:
<P>
<PRE>
    f = open("/mydir/file.txt") # works fine!
</PRE>
If you're trying to build a pathname for a DOS command, try e.g. one of
<P>
<PRE>
    dir = r"\this\is\my\dos\dir" "\\"
    dir = r"\this\is\my\dos\dir\ "[:-1]
    dir = "\\this\\is\\my\\dos\\dir\\"
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq06.029.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq06.029.htp">Log info</A>

/ Last changed on Mon Jul 13 20:50:20 1998 by
<A HREF="mailto:tim_one@email.msn.com">Tim Peters</A>
<P>

<HR>
<H1>7. Using Python on non-UNIX platforms</H1>

<HR>
<H2><A NAME="7.1">7.1. Is there a Mac version of Python?</A></H2>
Yes, see the "mac" subdirectory of the distribution sites,
e.g. <A HREF="ftp://ftp.python.org/pub/python/mac">ftp://ftp.python.org/pub/python/mac</A>/.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq07.001.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq07.001.htp">Log info</A>
<P>

<HR>
<H2><A NAME="7.2">7.2. Are there DOS and Windows versions of Python?</A></H2>
Yes.  The core windows binaries are available from <A HREF="http://www.python.org/windows">http://www.python.org/windows</A>/. There is a plethora of Windows extensions available, including a large number of not-always-compatible GUI toolkits.  The core binaries include the standard Tkinter GUI extension.
<P>
Most windows extensions can be found (or referenced) at <A HREF="http://www.python.org/windows">http://www.python.org/windows</A>/ 
<P>
Windows 3.1/DOS support seems to have dropped off recently.  You may need to settle for an old version of Python one these platforms.  One such port is WPY
<P>
WPY: Ports to DOS, Windows 3.1(1), Windows 95, Windows NT and OS/2.
Also contains a GUI package that offers portability between Windows 
(not DOS) and Unix, and native look and feel on both.
<A HREF="ftp://ftp.python.org/pub/python/wpy">ftp://ftp.python.org/pub/python/wpy</A>/.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq07.002.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq07.002.htp">Log info</A>

/ Last changed on Tue Jun  2 20:21:57 1998 by
<A HREF="mailto:MHammond@skippinet.com.au">Mark Hammond</A>
<P>

<HR>
<H2><A NAME="7.3">7.3. Is there an OS/2 version of Python?</A></H2>
Yes, see the "pc" and "wpy" subdirectory of the distribution sites
(see above).
<P>

<A HREF="faqw.py?req=edit&amp;file=faq07.003.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq07.003.htp">Log info</A>
<P>

<HR>
<H2><A NAME="7.4">7.4. Is there a VMS version of Python?</A></H2>
Yes, there is a port of Python 1.4 to OpenVMS and a few ports of 1.2 to VMS.
See <A HREF="ftp://ftp.python.org/pub/python/contrib/Porting/vms">ftp://ftp.python.org/pub/python/contrib/Porting/vms</A>/.
<P>
Uwe Zessin has ported Python 1.5.x to OpenVMS. 
See <A HREF="http://decus.decus.de/~zessin">http://decus.decus.de/~zessin</A>/.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq07.004.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq07.004.htp">Log info</A>

/ Last changed on Thu Jan  7 10:20:40 1999 by
<A HREF="mailto:Michael.Scharf@gmx.de">Michael Scharf</A>
<P>

<HR>
<H2><A NAME="7.5">7.5. What about IBM mainframes, or other non-UNIX platforms?</A></H2>
I haven't heard about these, except I remember hearing about an
OS/9 port and a port to Vxworks (both operating systems for embedded
systems).  If you're interested in any of this, go directly to the
newsgroup and ask there, you may find exactly what you need.  For
example, a port to MPE/iX 5.0 on HP3000 computers was just announced,
see <A HREF="http://www.allegro.com/software">http://www.allegro.com/software</A>/.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq07.005.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq07.005.htp">Log info</A>
<P>

<HR>
<H2><A NAME="7.6">7.6. Where are the source or Makefiles for the non-UNIX versions?</A></H2>
The standard sources can (almost) be used.  Additional sources can
be found in the platform-specific subdirectories of the distribution.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq07.006.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq07.006.htp">Log info</A>
<P>

<HR>
<H2><A NAME="7.7">7.7. What is the status and support for the non-UNIX versions?</A></H2>
I don't have access to most of these platforms, so in general I am
dependent on material submitted by volunteers.  However I strive to
integrate all changes needed to get it to compile on a particular
platform back into the standard sources, so porting of the next
version to the various non-UNIX platforms should be easy.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq07.007.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq07.007.htp">Log info</A>

/ Last changed on Thu May 22 21:06:26 1997 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="7.8">7.8. I have a PC version but it appears to be only a binary. Where's the library?</A></H2>
If you are running any version of Windows, then you have the wrong distribution.  The FAQ lists current Windows versions.  Notably, Pythonwin and wpy provide fully functional installations.
<P>
But if you are sure you have the only distribution with a hope of working on
your system, then...
<P>
You still need to copy the files from the distribution directory
"python/Lib" to your system.  If you don't have the full distribution,
you can get the file lib&lt;version&gt;.tar.gz from most ftp sites carrying
Python; this is a subset of the distribution containing just those
files, e.g.  <A HREF="ftp://ftp.python.org/pub/python/src/lib1.4.tar.gz">ftp://ftp.python.org/pub/python/src/lib1.4.tar.gz</A>.
<P>
Once you have installed the library, you need to point sys.path to it.
Assuming the library is in C:\misc\python\lib, the following commands
will point your Python interpreter to it (note the doubled backslashes
-- you can also use single forward slashes instead):
<P>
<PRE>
        >>> import sys
        >>> sys.path.insert(0, 'C:\\misc\\python\\lib')
        >>>
</PRE>
For a more permanent effect, set the environment variable PYTHONPATH,
as follows (talking to a DOS prompt):
<P>
<PRE>
        C> SET PYTHONPATH=C:\misc\python\lib
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq07.008.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq07.008.htp">Log info</A>

/ Last changed on Fri May 23 16:28:27 1997 by
<A HREF="mailto:klm@python.org">Ken Manheimer</A>
<P>

<HR>
<H2><A NAME="7.9">7.9. Where's the documentation for the Mac or PC version?</A></H2>
The documentation for the Unix version also applies to the Mac and
PC versions.  Where applicable, differences are indicated in the text.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq07.009.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq07.009.htp">Log info</A>
<P>

<HR>
<H2><A NAME="7.10">7.10. How do I create a Python program file on the Mac or PC?</A></H2>
Use an external editor.  On the Mac, BBEdit seems to be a popular
no-frills text editor.  I work like this: start the interpreter; edit
a module file using BBedit; import and test it in the interpreter;
edit again in BBedit; then use the built-in function reload() to
re-read the imported module; etc. In the 1.4 distribution 
you will find a BBEdit extension that makes life a little easier: 
it can tell the interpreter to execute the current window. 
See :Mac:Tools:BBPy:README. 
<P>
Regarding the same question for the PC, Kurt Wm. Hemr writes: "While
anyone with a pulse could certainly figure out how to do the same on
MS-Windows, I would recommend the NotGNU Emacs clone for MS-Windows.
Not only can you easily resave and "reload()" from Python after making
changes, but since WinNot auto-copies to the clipboard any text you
select, you can simply select the entire procedure (function) which
you changed in WinNot, switch to QWPython, and shift-ins to reenter
the changed program unit."
<P>
If you're using Windows95 or Windows NT, you should also know about
PythonWin, which provides a GUI framework, with an mouse-driven
editor, an object browser, and a GUI-based debugger.  See
<PRE>
       <A HREF="http://www.python.org/ftp/python/pythonwin">http://www.python.org/ftp/python/pythonwin</A>/
</PRE>
for details.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq07.010.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq07.010.htp">Log info</A>

/ Last changed on Sun May 25 10:04:25 1997 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="7.11">7.11. How can I use Tkinter on Windows 95/NT?</A></H2>
Starting from Python 1.5, it's very easy -- just download and install
Python and Tcl/Tk and you're in business.  See 
<P>
<PRE>
  <A HREF="http://www.python.org/download/download_windows.html">http://www.python.org/download/download_windows.html</A>
</PRE>
One warning: don't attempt to use Tkinter from PythonWin
(Mark Hammond's IDE).  Use it from the command line interface
(python.exe) or the windowless interpreter (pythonw.exe).
<P>

<A HREF="faqw.py?req=edit&amp;file=faq07.011.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq07.011.htp">Log info</A>

/ Last changed on Fri Jun 12 09:32:48 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="7.12">7.12. cgi.py (or other CGI programming) doesn't work sometimes on NT or win95!</A></H2>
Be sure you have the latest python.exe, that you are using
python.exe rather than a GUI version of python and that you
have configured the server to execute
<P>
<PRE>
     "...\python.exe -u ..."
</PRE>
for the cgi execution.  The -u (unbuffered) option on NT and
win95 prevents the interpreter from altering newlines in the
standard input and output.  Without it post/multipart requests
will seem to have the wrong length and binary (eg, GIF)
responses may get garbled (resulting in, eg, a "broken image").
<P>

<A HREF="faqw.py?req=edit&amp;file=faq07.012.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq07.012.htp">Log info</A>

/ Last changed on Wed Jul 30 10:48:02 1997 by
<A HREF="mailto:aaron_watters@msn.com">aaron watters</A>
<P>

<HR>
<H2><A NAME="7.13">7.13. Why doesn't os.popen() work in PythonWin on NT?</A></H2>
The reason that os.popen() doesn't work from within PythonWin is due to a bug in Microsoft's C Runtime Library (CRT). The CRT assumes you  have a Win32 console attached to the process.
<P>
You should use the win32pipe module's popen() instead which doesn't depend on having an attached Win32 console.
<P>
Example:
<PRE>
 import win32pipe
 f = win32pipe.popen('dir /c c:\\')
 print f.readlines()
 f.close()
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq07.013.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq07.013.htp">Log info</A>

/ Last changed on Thu Jul 31 15:34:09 1997 by
<A HREF="mailto:billtut@microsoft.com">Bill Tutt</A>
<P>

<HR>
<H2><A NAME="7.14">7.14. How do I use different functionality on different platforms with the same program?</A></H2>
Remember that Python is extremely dynamic and that you
can use this dynamism to configure a program at run-time to
use available functionality on different platforms.  For example
you can test the sys.platform and import different modules based
on its value.
<P>
<PRE>
   import sys
   if sys.platform == "win32":
      import win32pipe
      popen = win32pipe.popen
   else:
      import os
      popen = os.popen
</PRE>
(See FAQ 7.13 for an explanation of why you might want to
do something like this.)  Also you can try to import a module
and use a fallback if the import fails:
<P>
<PRE>
    try:
         import really_fast_implementation
         choice = really_fast_implementation
    except ImportError:
         import slower_implementation
         choice = slower_implementation
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq07.014.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq07.014.htp">Log info</A>

/ Last changed on Wed Aug 13 07:39:06 1997 by
<A HREF="mailto:aaron_watters@msn.com">aaron watters</A>
<P>

<HR>
<H2><A NAME="7.15">7.15. Is there an Amiga version of Python?</A></H2>
Yes. See the AmigaPython homepage at <A HREF="http://www.bigfoot.com/~irmen/python.html">http://www.bigfoot.com/~irmen/python.html</A>.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq07.015.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq07.015.htp">Log info</A>

/ Last changed on Mon Dec 14 06:53:32 1998 by
<A HREF="mailto:irmen@bigfoot.com">Irmen de Jong</A>
<P>

<HR>
<H1>8. Python on Windows</H1>

<HR>
<H2><A NAME="8.1">8.1. Using Python for CGI on Microsoft Windows</A></H2>
Setting up the Microsoft IIS Server/Peer Server:
<P>
On the Microsoft IIS 
server or on the Win95 MS Personal Web Server
you set up python in the same way that you 
would set up any other scripting engine. 
<P>
Run regedt32 and go to: 
<P>
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\W3SVC\Parameters\ScriptMap 
<P>
and enter the following line (making any specific changes that your system may need) 
<P>
.py :REG_SZ: c:\&lt;path to python&gt;\python.exe -u %s %s 
<P>
This line will allow you to call your script with a simple reference like:
http://yourserver/scripts/yourscript.py 
provided "scripts" is an "executable" directory for your server (which
it usually is by default).
The "-u" flag specifies unbuffered and binary mode for stdin - needed when working with binary data
<P>
In addition, it is recommended by people who would know that using ".py" may 
not be a good idea for the file extensions when used in this context
(you might want to reserve *.py for support modules and use *.cgi or *.cgp
for "main program" scripts).
However, that issue is beyond this Windows FAQ entry.
<P>
Netscape Servers:
Information on this topic exists at:
<A HREF="http://home.netscape.com/comprod/server_central/support/fasttrack_man/programs.htm#1010870">http://home.netscape.com/comprod/server_central/support/fasttrack_man/programs.htm#1010870</A>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq08.001.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq08.001.htp">Log info</A>

/ Last changed on Tue Dec  9 13:51:36 1997 by
<A HREF="mailto:arw@cs.rutgers.edu">aaron watters</A>
<P>

<HR>
<H2><A NAME="8.2">8.2. How to check for a keypress without blocking?</A></H2>
Use the msvcrt module.  This is a standard Windows-specific extensions
in Python 1.5 and beyond.  It defines a function kbhit() which checks
whether a keyboard hit is present; also getch() which gets one
character without echo.  Plus a few other goodies.
<P>
(Search for "keypress" to find an answer for Unix as well.)
<P>

<A HREF="faqw.py?req=edit&amp;file=faq08.002.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq08.002.htp">Log info</A>

/ Last changed on Mon Mar 30 16:21:46 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="8.3">8.3. $PYTHONPATH</A></H2>
In MS-DOS derived environments, a unix variable such as $PYTHONPATH is 
set as PYTHONPATH, without the dollar sign.  PYTHONPATH is useful for
specifying the location of library files.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq08.003.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq08.003.htp">Log info</A>

/ Last changed on Thu Jun 11 00:41:26 1998 by
<A HREF="mailto:guido@python.org">Gvr</A>
<P>

<HR>
<H2><A NAME="8.4">8.4. dedent syntax errors</A></H2>
Tim &lt;<A HREF="mailto:tim_one@email.msn.com">tim_one@email.msn.com</A>&gt; sez:  the original content of this FAQ (below) makes little sense.  The FAQ does not recommend using tabs, and Guido's Python Style Guide recommends 4 spaces for distributed Python code; this is also the Emacs python-mode default; see
<PRE>
    <A HREF="http://www.python.org/doc/essays/styleguide.html">http://www.python.org/doc/essays/styleguide.html</A>
</PRE>
Under any editor mixing tabs and spaces is a bad idea.  MSVC is no different in this respect, and is easily configured to use spaces:  Take Tools -> Options -> Tabs, and for file type "Default" set "Tab size" and "Indent size" to 4, and select the "Insert spaces" radio button.
<P>
If you suspect mixed tabs and spaces are causing problems in leading whitespace, run Python with the -t switch or, run Tools/Scripts/tabnanny.py to check a directory tree in batch mode.
<P>
[original follows]
<P>
The FAQ really means it when it suggests using tabs, not spaces, for
indentation control.  This may be a bigger problem in windows than in
unix.  For instance, the Microsoft Visual C++ programmers editor, in its
default configuration, does not indicate whether the white space is 
spaces or tabs.  If it is spaces, you are likely to get syntax errors
not obviously related to the indentation.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq08.004.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq08.004.htp">Log info</A>

/ Last changed on Mon Mar  1 03:11:59 1999 by
<A HREF="mailto:tim_one@email.msn.com">Tim Peters</A>
<P>

<HR>
<H2><A NAME="8.5">8.5. How do I emulate os.kill() in Windows?</A></H2>
Use win32api:
<P>
<PRE>
    def kill(pid):
        """kill function for Win32"""
        import win32api
        handle = win32api.OpenProcess(1, 0, pid)
        return (0 != win32api.TerminateProcess(handle, 0))
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq08.005.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq08.005.htp">Log info</A>

/ Last changed on Sat Aug  8 18:55:06 1998 by
<A HREF="mailto:jeffbauer@bigfoot.com">Jeff Bauer</A>
<P>

<HR>
<H2><A NAME="8.6">8.6. Why does os.path.isdir() fail on NT shared directories?</A></H2>
The solution appears to be always append the "\\" on 
the end of shared drives.
<P>
<PRE>
  >>> import os
  >>> os.path.isdir( '\\\\rorschach\\public')
  0
  >>> os.path.isdir( '\\\\rorschach\\public\\')
  1
</PRE>
[Blake Winton responds:]
I've had the same problem doing "Start >> Run" and then a
directory on a shared drive.  If I use "\\rorschach\public", 
it will fail, but if I use "\\rorschach\public\", it will 
work.  For that matter, os.stat() does the same thing (well, 
it gives an error for "\\\\rorschach\\public", but you get 
the idea)...
<P>
I've got a theory about why this happens, but it's only 
a theory.  NT knows the difference between shared directories, 
and regular directories.  "\\rorschach\public" isn't a 
directory, it's _really_ an IPC abstraction.  This is sort 
of lended credence to by the fact that when you're mapping 
a network drive, you can't map "\\rorschach\public\utils", 
but only "\\rorschach\public".
<P>
[Clarification by <A HREF="mailto:funkster@midwinter.com">funkster@midwinter.com</A>]
It's not actually a Python 
question, as Python is working just fine; it's clearing up something 
a bit muddled about Windows networked drives.
<P>
It helps to think of share points as being like drive letters.
Example:
<PRE>
        k: is not a directory
        k:\ is a directory
        k:\media is a directory
        k:\media\ is not a directory
</PRE>
The same rules apply if you substitute "k:" with "\\conky\foo":
<PRE>
        \\conky\foo  is not a directory
        \\conky\foo\ is a directory
        \\conky\foo\media is a directory
        \\conky\foo\media\ is not a directory
</PRE>
<P>

<A HREF="faqw.py?req=edit&amp;file=faq08.006.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq08.006.htp">Log info</A>

/ Last changed on Sun Jan 31 08:44:48 1999 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="8.7">8.7. PyRun_SimpleFile() crashes on Windows but not on Unix</A></H2>
I've seen a number of reports of PyRun_SimpleFile() failing
in a Windows port of an application embedding Python that worked
fine on Unix.  PyRun_SimpleString() works fine on both platforms.
<P>
I think this happens because the application was compiled with a 
different set of compiler flags than Python15.DLL.  It seems that some 
compiler flags affect the standard I/O library in such a way that 
using different flags makes calls fail.  You need to set it for 
multi-threaded DLL.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq08.007.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq08.007.htp">Log info</A>

/ Last changed on Thu Oct 29 00:11:11 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="8.8">8.8. Import of _tkinter fails on Windows 95/98</A></H2>
Sometimes, the import of _tkinter fails on Windows 95 or 98,
complaining with a message like the following:
<P>
<PRE>
  ImportError: DLL load failed: One of the library files needed
  to run this application cannot be found.
</PRE>
It could be that you haven't installed Tcl/Tk, but if you did
install Tcl/Tk, and the Wish application works correctly,
the problem may be that its installer didn't
manage to edit the autoexec.bat file correctly.  It tries to add a
statement that changes the PATH environment variable to include
the Tcl/Tk 'bin' subdirectory, but sometimes this edit doesn't
quite work.  Opening it with notepad usually reveals what the
problem is.
<P>
(One additional hint, noted by David Szafranski: you can't use
long filenames here; e.g. use C:\PROGRA~1\Tcl\bin instead of
C:\Program Files\Tcl\bin.)
<P>

<A HREF="faqw.py?req=edit&amp;file=faq08.008.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq08.008.htp">Log info</A>

/ Last changed on Wed Dec  2 22:32:41 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="8.9">8.9. Can't extract the downloaded documentation on Windows</A></H2>
Sometimes, when you download the documentation package to a Windows
machine using a web browser, the file extension of the saved file
ends up being .EXE.  This is a mistake; the extension should be .TGZ.
<P>
Simply rename the downloaded file to have the .TGZ extension, and
WinZip will be able to handle it.  (If your copy of WinZip doesn't,
get a newer one from <A HREF="http://www.winzip.com">http://www.winzip.com</A>.)
<P>

<A HREF="faqw.py?req=edit&amp;file=faq08.009.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq08.009.htp">Log info</A>

/ Last changed on Sat Nov 21 13:41:35 1998 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="8.10">8.10. Can't get Py_RunSimpleFile() to work.</A></H2>
This is very sensitive to the compiler vendor, version and (perhaps)
even options.  If the FILE* structure in your embedding program isn't
the same as is assumed by the Python interpreter it won't work.
<P>
The Python 1.5.* DLLs (python15.dll) are all compiled
with MS VC++ 5.0 and with multithreading-DLL options (/MD, I think).
<P>
If you can't change compilers or flags, try using Py_RunSimpleString().
A trick to get it to run an arbitrary file is to construct a call to
execfile() with the name of your file as argument.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq08.010.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq08.010.htp">Log info</A>

/ Last changed on Wed Jan 13 10:58:14 1999 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<H2><A NAME="8.11">8.11. Where is Freeze for Windows?</A></H2>
("Freeze" is a program that allows you to ship a Python program
as a single stand-alone executable file.  It is <I>not</I> a compiler,
your programs don't run any faster, but they are more easily
distributable (to platforms with the same OS and CPU).  Read the
README file of the freeze program for more disclaimers.)
<P>
You can use freeze on Windows, but you must download the source
tree (see <A HREF="http://www.python.org/download/download_source.html">http://www.python.org/download/download_source.html</A>).
This is recommended for Python 1.5.2 (and betas thereof) only;
older versions don't quite work.
<P>
You need the Microsoft VC++ 5.0 compiler (maybe it works with
6.0 too).  You probably need to build Python -- the project files
are all in the PCbuild directory.
<P>
The freeze program is in the Tools\freeze subdirectory of the source
tree.
<P>

<A HREF="faqw.py?req=edit&amp;file=faq08.011.htp">Edit this entry</A> /
<A HREF="faqw.py?req=log&amp;file=faq08.011.htp">Log info</A>

/ Last changed on Wed Feb 17 18:47:24 1999 by
<A HREF="mailto:guido@python.org">GvR</A>
<P>

<HR>
<A HREF="http://www.python.org">Python home</A> /
<A HREF="faqw.py?req=home">Python FAQ Wizard 1.0.3</A> /
Feedback to <A HREF="mailto:guido@python.org">GvR</A>
<P><A HREF="http://www.python.org/"><IMG
SRC="http://www.python.org/pics/PythonPowered.gif" 
ALIGN=top WIDTH=110 HEIGHT=44 ALT="Python Powered" BORDER=0></A><BR>
</BODY>
</HTML>
<BR>(times: user 15.7, sys 0.93, ch-user 0, ch-sys 0, real 17.6)
